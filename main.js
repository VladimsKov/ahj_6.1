(()=>{"use strict";var e,t,r,n,o,i,c,d={643:(e,t,r)=>{function n(e){const t=[],r=Array.from(e.querySelectorAll(".col"));for(let e=0;e<r.length;e+=1){const n=Array.from(r[e].querySelectorAll(".card"));for(let e=0;e<n.length;e+=1)n[e]=n[e].innerHTML;t[e]=n}localStorage.savedData=JSON.stringify(t)}r(177);class o{constructor(){this.container=document.querySelector(".container"),this.addBtns=this.container.querySelectorAll(".addBtn");for(const e of this.addBtns)e.addEventListener("click",(e=>{e.currentTarget.classList.toggle("hidden");const t=o.createAddBlock();e.currentTarget.after(t),this.createCard(t),t.querySelector("textarea").focus()}));!function(e,t){let r,i,c=null,d=null,a={};e.addEventListener("mousedown",(t=>{if(!t.target.classList.contains("card"))return;t.preventDefault(),e.style.cursor="grab",c=t.target,d=t.target.cloneNode(!0),d.classList.add("dragged"),document.body.appendChild(d);const{top:n}=c.getBoundingClientRect(),{left:o}=c.getBoundingClientRect();d.style.left=`${o}px`,d.style.top=`${n}px`,d.style.width=`${c.offsetWidth}px`,d.style.height=`${c.offsetHeight}px`,r=t.pageX-o,i=t.pageY-n})),document.body.addEventListener("mousemove",(n=>{if(!d)return;n.preventDefault(),o.dragElemsStyle(e,t),d.style.left=n.pageX-r+"px",d.style.top=n.pageY-i+"px",o.freeInputFieldSet(e,n,d,a),c.classList.add("hidden");const l=e.getBoundingClientRect().Top+window.scrollY,s=e.getBoundingClientRect().bottom+window.scrollY,u=e.getBoundingClientRect().left+window.scrollX,f=e.getBoundingClientRect().right+window.scrollX,p=d.getBoundingClientRect().top+window.scrollY,h=d.getBoundingClientRect().bottom+window.scrollY,m=d.getBoundingClientRect().left+window.scrollX,g=d.getBoundingClientRect().right+window.scrollX;(p>s||m>f||g<u||h<l)&&(document.body.removeChild(d),d=null,c.classList.remove("hidden"),o.dragElemStyleOff(e,t),o.freeInputFieldOff(e))})),e.addEventListener("mouseup",(r=>{if(!d)return;const i=document.elementFromPoint(r.clientX,r.clientY),l=r.target.closest(".col");if(l&&null===l.querySelector(".card"))return l.querySelector(".colTitle").after(c),document.body.removeChild(d),d=null,c.classList.remove("hidden"),o.dragElemStyleOff(e,t),o.freeInputFieldOff(e),void n(e);if(!r.target.classList.contains("card")){const i=window.scrollY+a.top,l=window.scrollY+a.bottom,s=window.scrollX+a.left,u=window.scrollX+a.right;if(r.pageY>i&&r.pageY<l&&r.pageX>s&&r.pageX<u){const t=Array.from(e.querySelectorAll(".card")).find((e=>e===a.lastOverEl));"top"===a.pos&&t.before(c),"bottom"===a.pos&&t.after(c)}return document.body.removeChild(d),d=null,c.classList.remove("hidden"),o.dragElemStyleOff(e,t),o.freeInputFieldOff(e),void n(e)}const{top:s}=i.getBoundingClientRect();r.pageY>window.scrollY+s+i.offsetHeight/2?i.after(c):i.before(c),document.body.removeChild(d),d=null,c.classList.remove("hidden"),o.dragElemStyleOff(e,t),o.freeInputFieldOff(e),n(e)}))}(this.container,this.addBtns),function(e){const t=JSON.parse(localStorage.getItem("savedData"));if(t){const r=Array.from(e.querySelectorAll(".col"));for(let n=0;n<r.length;n+=1){const i=r[n].querySelector(".addBtn");for(let r=0;r<t[n].length;r+=1){const c=document.createElement("div");c.classList.add("card"),i.before(c),c.insertAdjacentHTML("beforeend",t[n][r]),o.closeCardEvents(e,c)}}}}(this.container)}static createAddBlock(){const e=document.createElement("div");return e.classList.add("addfield"),e.insertAdjacentHTML("beforeend",'<textarea class="textareastyle" rows="2"  maxlength="200" placeholder="Enter a title for this card"></textarea><button class="setbtn">Add Field</button><span>&#10006</span>'),e}createCard(e){const t=e.querySelector(".setbtn"),r=e.querySelector("textarea"),o=e.closest(".col").querySelector(".addBtn");t.addEventListener("click",(()=>{if(!r.value)return void alert("Заполните данные");const t=document.createElement("div");t.classList.add("card"),t.append(r.value),o.before(t),o.classList.toggle("hidden"),e.remove(),this.сloseCardBtn(t),n(this.container)})),e.querySelector("span").addEventListener("click",(()=>{e.remove(),o.classList.toggle("hidden")}))}сloseCardBtn(e){e.insertAdjacentHTML("afterbegin",'<div class="closecard hidden"><span>&#10006</span></div>'),o.closeCardEvents(this.container,e)}static closeCardEvents(e,t){const r=t.querySelector(".closecard");t.addEventListener("mouseover",(()=>{r.classList.remove("hidden")})),t.addEventListener("mouseout",(()=>{r.classList.add("hidden")})),r.addEventListener("click",(()=>{t.remove(),n(e)}))}static dragElemsStyle(e,t){e.style.cursor="grabbing";for(const e of t)e.classList.add("addBtndragstyle");e.querySelectorAll(".closecard").forEach((e=>{e.classList.add("hidden")}))}static dragElemStyleOff(e,t){e.removeAttribute("style");for(const e of t)e.classList.remove("addBtndragstyle")}static freeInputFieldSet(e,t,r,n){const o=document.elementFromPoint(t.clientX,t.clientY),{top:i}=o.getBoundingClientRect();return o.classList.contains("card")&&(e.querySelectorAll(".card").forEach((e=>{e!==o&&e.removeAttribute("style")})),n.left=o.getBoundingClientRect().left,n.right=o.getBoundingClientRect().right,t.pageY>window.scrollY+i+o.offsetHeight/2?(o.style.marginBottom=`${r.offsetHeight+10}px`,o.style.marginTop="0",n.top=o.getBoundingClientRect().bottom,n.bottom=o.getBoundingClientRect().bottom+r.offsetHeight+10,n.pos="bottom"):(o.style.marginBottom="10px",o.style.marginTop=`${r.offsetHeight+10}px`,n.top=o.getBoundingClientRect().top-r.offsetHeight-10,n.bottom=o.getBoundingClientRect().top,n.pos="top"),n.lastOverEl=o),n}static freeInputFieldOff(e){e.querySelectorAll(".card").forEach((e=>{e.removeAttribute("style")}))}}new o},783:(e,t,r)=>{var n=r(618),o=Object.create(null),i="undefined"==typeof document,c=Array.prototype.forEach;function d(){}function a(e,t){if(!t){if(!e.href)return;t=e.href.split("?")[0]}if(s(t)&&!1!==e.isLoaded&&t&&t.indexOf(".css")>-1){e.visited=!0;var r=e.cloneNode();r.isLoaded=!1,r.addEventListener("load",(function(){r.isLoaded||(r.isLoaded=!0,e.parentNode.removeChild(e))})),r.addEventListener("error",(function(){r.isLoaded||(r.isLoaded=!0,e.parentNode.removeChild(e))})),r.href="".concat(t,"?").concat(Date.now()),e.nextSibling?e.parentNode.insertBefore(r,e.nextSibling):e.parentNode.appendChild(r)}}function l(){var e=document.querySelectorAll("link");c.call(e,(function(e){!0!==e.visited&&a(e)}))}function s(e){return!!/^https?:/i.test(e)}e.exports=function(e,t){if(i)return console.log("no window.document found, will not HMR CSS"),d;var r,u,f=function(e){var t=o[e];if(!t){if(document.currentScript)t=document.currentScript.src;else{var r=document.getElementsByTagName("script"),i=r[r.length-1];i&&(t=i.src)}o[e]=t}return function(e){if(!t)return null;var r=t.split(/([^\\/]+)\.js$/),o=r&&r[1];return o&&e?e.split(",").map((function(e){var r=new RegExp("".concat(o,"\\.js$"),"g");return n(t.replace(r,"".concat(e.replace(/{fileName}/g,o),".css")))})):[t.replace(".js",".css")]}}(e);return r=function(){var e=f(t.filename),r=function(e){if(!e)return!1;var t=document.querySelectorAll("link"),r=!1;return c.call(t,(function(t){if(t.href){var o=function(e,t){var r;return e=n(e,{stripWWW:!1}),t.some((function(n){e.indexOf(t)>-1&&(r=n)})),r}(t.href,e);s(o)&&!0!==t.visited&&o&&(a(t,o),r=!0)}})),r}(e);if(t.locals)return console.log("[HMR] Detected local css modules. Reload all css"),void l();r?console.log("[HMR] css reload %s",e.join(" ")):(console.log("[HMR] Reload all css"),l())},50,u=0,function(){var e=this,t=arguments,n=function(){return r.apply(e,t)};clearTimeout(u),u=setTimeout(n,50)}}},618:e=>{e.exports=function(e){if(e=e.trim(),/^data:/i.test(e))return e;var t=-1!==e.indexOf("//")?e.split("//")[0]+"//":"",r=e.replace(new RegExp(t,"i"),"").split("/"),n=r[0].toLowerCase().replace(/\.$/,"");return r[0]="",t+n+r.reduce((function(e,t){switch(t){case"..":e.pop();break;case".":break;default:e.push(t)}return e}),[]).join("/")}},177:(e,t,r)=>{var n=r(783)(e.id,{locals:!1});e.hot.dispose(n),e.hot.accept(void 0,n)}},a={};function l(e){var t=a[e];if(void 0!==t){if(void 0!==t.error)throw t.error;return t.exports}var r=a[e]={id:e,exports:{}};try{var n={id:e,module:r,factory:d[e],require:l};l.i.forEach((function(e){e(n)})),r=n.module,n.factory.call(r.exports,r,r.exports,n.require)}catch(e){throw r.error=e,e}return r.exports}l.m=d,l.c=a,l.i=[],l.hu=e=>e+"."+l.h()+".hot-update.js",l.miniCssF=e=>"main.css",l.hmrF=()=>"main."+l.h()+".hot-update.json",l.h=()=>"56c17a1149383f2bdde5",l.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),l.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),e={},t="ajs:",l.l=(r,n,o,i)=>{if(e[r])e[r].push(n);else{var c,d;if(void 0!==o)for(var a=document.getElementsByTagName("script"),s=0;s<a.length;s++){var u=a[s];if(u.getAttribute("src")==r||u.getAttribute("data-webpack")==t+o){c=u;break}}c||(d=!0,(c=document.createElement("script")).charset="utf-8",c.timeout=120,l.nc&&c.setAttribute("nonce",l.nc),c.setAttribute("data-webpack",t+o),c.src=r),e[r]=[n];var f=(t,n)=>{c.onerror=c.onload=null,clearTimeout(p);var o=e[r];if(delete e[r],c.parentNode&&c.parentNode.removeChild(c),o&&o.forEach((e=>e(n))),t)return t(n)},p=setTimeout(f.bind(null,void 0,{type:"timeout",target:c}),12e4);c.onerror=f.bind(null,c.onerror),c.onload=f.bind(null,c.onload),d&&document.head.appendChild(c)}},(()=>{var e,t,r,n={},o=l.c,i=[],c=[],d="idle",a=0,s=[];function u(e){d=e;for(var t=[],r=0;r<c.length;r++)t[r]=c[r].call(null,e);return Promise.all(t)}function f(){0==--a&&u("ready").then((function(){if(0===a){var e=s;s=[];for(var t=0;t<e.length;t++)e[t]()}}))}function p(e){if("idle"!==d)throw new Error("check() is only allowed in idle status");return u("check").then(l.hmrM).then((function(r){return r?u("prepare").then((function(){var n=[];return t=[],Promise.all(Object.keys(l.hmrC).reduce((function(e,o){return l.hmrC[o](r.c,r.r,r.m,e,t,n),e}),[])).then((function(){return t=function(){return e?m(e):u("ready").then((function(){return n}))},0===a?t():new Promise((function(e){s.push((function(){e(t())}))}));var t}))})):u(g()?"ready":"idle").then((function(){return null}))}))}function h(e){return"ready"!==d?Promise.resolve().then((function(){throw new Error("apply() is only allowed in ready status (state: "+d+")")})):m(e)}function m(e){e=e||{},g();var n=t.map((function(t){return t(e)}));t=void 0;var o=n.map((function(e){return e.error})).filter(Boolean);if(o.length>0)return u("abort").then((function(){throw o[0]}));var i=u("dispose");n.forEach((function(e){e.dispose&&e.dispose()}));var c,d=u("apply"),a=function(e){c||(c=e)},l=[];return n.forEach((function(e){if(e.apply){var t=e.apply(a);if(t)for(var r=0;r<t.length;r++)l.push(t[r])}})),Promise.all([i,d]).then((function(){return c?u("fail").then((function(){throw c})):r?m(e).then((function(e){return l.forEach((function(t){e.indexOf(t)<0&&e.push(t)})),e})):u("idle").then((function(){return l}))}))}function g(){if(r)return t||(t=[]),Object.keys(l.hmrI).forEach((function(e){r.forEach((function(r){l.hmrI[e](r,t)}))})),r=void 0,!0}l.hmrD=n,l.i.push((function(s){var m,g,v,y,b=s.module,w=function(t,r){var n=o[r];if(!n)return t;var c=function(c){if(n.hot.active){if(o[c]){var d=o[c].parents;-1===d.indexOf(r)&&d.push(r)}else i=[r],e=c;-1===n.children.indexOf(c)&&n.children.push(c)}else console.warn("[HMR] unexpected require("+c+") from disposed module "+r),i=[];return t(c)},l=function(e){return{configurable:!0,enumerable:!0,get:function(){return t[e]},set:function(r){t[e]=r}}};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&"e"!==s&&Object.defineProperty(c,s,l(s));return c.e=function(e){return function(e){switch(d){case"ready":u("prepare");case"prepare":return a++,e.then(f,f),e;default:return e}}(t.e(e))},c}(s.require,s.id);b.hot=(m=s.id,g=b,y={_acceptedDependencies:{},_acceptedErrorHandlers:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_selfInvalidated:!1,_disposeHandlers:[],_main:v=e!==m,_requireSelf:function(){i=g.parents.slice(),e=v?void 0:m,l(m)},active:!0,accept:function(e,t,r){if(void 0===e)y._selfAccepted=!0;else if("function"==typeof e)y._selfAccepted=e;else if("object"==typeof e&&null!==e)for(var n=0;n<e.length;n++)y._acceptedDependencies[e[n]]=t||function(){},y._acceptedErrorHandlers[e[n]]=r;else y._acceptedDependencies[e]=t||function(){},y._acceptedErrorHandlers[e]=r},decline:function(e){if(void 0===e)y._selfDeclined=!0;else if("object"==typeof e&&null!==e)for(var t=0;t<e.length;t++)y._declinedDependencies[e[t]]=!0;else y._declinedDependencies[e]=!0},dispose:function(e){y._disposeHandlers.push(e)},addDisposeHandler:function(e){y._disposeHandlers.push(e)},removeDisposeHandler:function(e){var t=y._disposeHandlers.indexOf(e);t>=0&&y._disposeHandlers.splice(t,1)},invalidate:function(){switch(this._selfInvalidated=!0,d){case"idle":t=[],Object.keys(l.hmrI).forEach((function(e){l.hmrI[e](m,t)})),u("ready");break;case"ready":Object.keys(l.hmrI).forEach((function(e){l.hmrI[e](m,t)}));break;case"prepare":case"check":case"dispose":case"apply":(r=r||[]).push(m)}},check:p,apply:h,status:function(e){if(!e)return d;c.push(e)},addStatusHandler:function(e){c.push(e)},removeStatusHandler:function(e){var t=c.indexOf(e);t>=0&&c.splice(t,1)},data:n[m]},e=void 0,y),b.parents=i,b.children=[],i=[],s.require=w})),l.hmrC={},l.hmrI={}})(),(()=>{var e;l.g.importScripts&&(e=l.g.location+"");var t=l.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var r=t.getElementsByTagName("script");r.length&&(e=r[r.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),l.p=e})(),r=(e,t,r,n)=>{var o=document.createElement("link");return o.rel="stylesheet",o.type="text/css",o.onerror=o.onload=i=>{if(o.onerror=o.onload=null,"load"===i.type)r();else{var c=i&&("load"===i.type?"missing":i.type),d=i&&i.target&&i.target.href||t,a=new Error("Loading CSS chunk "+e+" failed.\n("+d+")");a.code="CSS_CHUNK_LOAD_FAILED",a.type=c,a.request=d,o.parentNode.removeChild(o),n(a)}},o.href=t,document.head.appendChild(o),o},n=(e,t)=>{for(var r=document.getElementsByTagName("link"),n=0;n<r.length;n++){var o=(c=r[n]).getAttribute("data-href")||c.getAttribute("href");if("stylesheet"===c.rel&&(o===e||o===t))return c}var i=document.getElementsByTagName("style");for(n=0;n<i.length;n++){var c;if((o=(c=i[n]).getAttribute("data-href"))===e||o===t)return c}},o=[],i=[],c=e=>({dispose:()=>{for(var e=0;e<o.length;e++){var t=o[e];t.parentNode&&t.parentNode.removeChild(t)}o.length=0},apply:()=>{for(var e=0;e<i.length;e++)i[e].rel="stylesheet";i.length=0}}),l.hmrC.miniCss=(e,t,d,a,s,u)=>{s.push(c),e.forEach((e=>{var t=l.miniCssF(e),c=l.p+t,d=n(t,c);d&&a.push(new Promise(((t,n)=>{var a=r(e,c,(()=>{a.as="style",a.rel="preload",t()}),n);o.push(d),i.push(a)})))}))},(()=>{var e,t,r,n,o,i=l.hmrS_jsonp=l.hmrS_jsonp||{179:0},c={};function d(t,r){return e=r,new Promise(((e,r)=>{c[t]=e;var n=l.p+l.hu(t),o=new Error;l.l(n,(e=>{if(c[t]){c[t]=void 0;var n=e&&("load"===e.type?"missing":e.type),i=e&&e.target&&e.target.src;o.message="Loading hot update chunk "+t+" failed.\n("+n+": "+i+")",o.name="ChunkLoadError",o.type=n,o.request=i,r(o)}}))}))}function a(e){function c(e){for(var t=[e],r={},n=t.map((function(e){return{chain:[e],id:e}}));n.length>0;){var o=n.pop(),i=o.id,c=o.chain,a=l.c[i];if(a&&(!a.hot._selfAccepted||a.hot._selfInvalidated)){if(a.hot._selfDeclined)return{type:"self-declined",chain:c,moduleId:i};if(a.hot._main)return{type:"unaccepted",chain:c,moduleId:i};for(var s=0;s<a.parents.length;s++){var u=a.parents[s],f=l.c[u];if(f){if(f.hot._declinedDependencies[i])return{type:"declined",chain:c.concat([u]),moduleId:i,parentId:u};-1===t.indexOf(u)&&(f.hot._acceptedDependencies[i]?(r[u]||(r[u]=[]),d(r[u],[i])):(delete r[u],t.push(u),n.push({chain:c.concat([u]),id:u})))}}}}return{type:"accepted",moduleId:e,outdatedModules:t,outdatedDependencies:r}}function d(e,t){for(var r=0;r<t.length;r++){var n=t[r];-1===e.indexOf(n)&&e.push(n)}}l.f&&delete l.f.jsonpHmr,t=void 0;var a={},s=[],u={},f=function(e){console.warn("[HMR] unexpected require("+e.id+") to disposed module")};for(var p in r)if(l.o(r,p)){var h,m=r[p],g=!1,v=!1,y=!1,b="";switch((h=m?c(p):{type:"disposed",moduleId:p}).chain&&(b="\nUpdate propagation: "+h.chain.join(" -> ")),h.type){case"self-declined":e.onDeclined&&e.onDeclined(h),e.ignoreDeclined||(g=new Error("Aborted because of self decline: "+h.moduleId+b));break;case"declined":e.onDeclined&&e.onDeclined(h),e.ignoreDeclined||(g=new Error("Aborted because of declined dependency: "+h.moduleId+" in "+h.parentId+b));break;case"unaccepted":e.onUnaccepted&&e.onUnaccepted(h),e.ignoreUnaccepted||(g=new Error("Aborted because "+p+" is not accepted"+b));break;case"accepted":e.onAccepted&&e.onAccepted(h),v=!0;break;case"disposed":e.onDisposed&&e.onDisposed(h),y=!0;break;default:throw new Error("Unexception type "+h.type)}if(g)return{error:g};if(v)for(p in u[p]=m,d(s,h.outdatedModules),h.outdatedDependencies)l.o(h.outdatedDependencies,p)&&(a[p]||(a[p]=[]),d(a[p],h.outdatedDependencies[p]));y&&(d(s,[h.moduleId]),u[p]=f)}r=void 0;for(var w,E=[],C=0;C<s.length;C++){var S=s[C],L=l.c[S];L&&(L.hot._selfAccepted||L.hot._main)&&u[S]!==f&&!L.hot._selfInvalidated&&E.push({module:S,require:L.hot._requireSelf,errorHandler:L.hot._selfAccepted})}return{dispose:function(){var e;n.forEach((function(e){delete i[e]})),n=void 0;for(var t,r=s.slice();r.length>0;){var o=r.pop(),c=l.c[o];if(c){var d={},u=c.hot._disposeHandlers;for(C=0;C<u.length;C++)u[C].call(null,d);for(l.hmrD[o]=d,c.hot.active=!1,delete l.c[o],delete a[o],C=0;C<c.children.length;C++){var f=l.c[c.children[C]];f&&(e=f.parents.indexOf(o))>=0&&f.parents.splice(e,1)}}}for(var p in a)if(l.o(a,p)&&(c=l.c[p]))for(w=a[p],C=0;C<w.length;C++)t=w[C],(e=c.children.indexOf(t))>=0&&c.children.splice(e,1)},apply:function(t){for(var r in u)l.o(u,r)&&(l.m[r]=u[r]);for(var n=0;n<o.length;n++)o[n](l);for(var i in a)if(l.o(a,i)){var c=l.c[i];if(c){w=a[i];for(var d=[],f=[],p=[],h=0;h<w.length;h++){var m=w[h],g=c.hot._acceptedDependencies[m],v=c.hot._acceptedErrorHandlers[m];if(g){if(-1!==d.indexOf(g))continue;d.push(g),f.push(v),p.push(m)}}for(var y=0;y<d.length;y++)try{d[y].call(null,w)}catch(r){if("function"==typeof f[y])try{f[y](r,{moduleId:i,dependencyId:p[y]})}catch(n){e.onErrored&&e.onErrored({type:"accept-error-handler-errored",moduleId:i,dependencyId:p[y],error:n,originalError:r}),e.ignoreErrored||(t(n),t(r))}else e.onErrored&&e.onErrored({type:"accept-errored",moduleId:i,dependencyId:p[y],error:r}),e.ignoreErrored||t(r)}}}for(var b=0;b<E.length;b++){var C=E[b],S=C.module;try{C.require(S)}catch(r){if("function"==typeof C.errorHandler)try{C.errorHandler(r,{moduleId:S,module:l.c[S]})}catch(n){e.onErrored&&e.onErrored({type:"self-accept-error-handler-errored",moduleId:S,error:n,originalError:r}),e.ignoreErrored||(t(n),t(r))}else e.onErrored&&e.onErrored({type:"self-accept-errored",moduleId:S,error:r}),e.ignoreErrored||t(r)}}return s}}}self.webpackHotUpdateajs=(t,n,i)=>{for(var d in n)l.o(n,d)&&(r[d]=n[d],e&&e.push(d));i&&o.push(i),c[t]&&(c[t](),c[t]=void 0)},l.hmrI.jsonp=function(e,t){r||(r={},o=[],n=[],t.push(a)),l.o(r,e)||(r[e]=l.m[e])},l.hmrC.jsonp=function(e,c,s,u,f,p){f.push(a),t={},n=c,r=s.reduce((function(e,t){return e[t]=!1,e}),{}),o=[],e.forEach((function(e){l.o(i,e)&&void 0!==i[e]?(u.push(d(e,p)),t[e]=!0):t[e]=!1})),l.f&&(l.f.jsonpHmr=function(e,r){t&&l.o(t,e)&&!t[e]&&(r.push(d(e)),t[e]=!0)})},l.hmrM=()=>{if("undefined"==typeof fetch)throw new Error("No browser support: need fetch API");return fetch(l.p+l.hmrF()).then((e=>{if(404!==e.status){if(!e.ok)throw new Error("Failed to fetch update manifest "+e.statusText);return e.json()}}))}})(),l(643)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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ZnVCak4sRUFBb0IsSSIsInNvdXJjZXMiOlsid2VicGFjazovL2Fqcy93ZWJwYWNrL3J1bnRpbWUvbG9hZCBzY3JpcHQiLCJ3ZWJwYWNrOi8vYWpzL3dlYnBhY2svcnVudGltZS9jc3MgbG9hZGluZyIsIndlYnBhY2s6Ly9hanMvLi9zcmMvanMvbG9jYWxTYXZlLmpzIiwid2VicGFjazovL2Fqcy8uL3NyYy9qcy9jb21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vYWpzLy4vc3JjL2pzL2RyYWdEcm9wU2V0LmpzIiwid2VicGFjazovL2Fqcy8uL3NyYy9qcy9hcHAuanMiLCJ3ZWJwYWNrOi8vYWpzLy4vbm9kZV9tb2R1bGVzL21pbmktY3NzLWV4dHJhY3QtcGx1Z2luL2Rpc3QvaG1yL2hvdE1vZHVsZVJlcGxhY2VtZW50LmpzIiwid2VicGFjazovL2Fqcy8uL25vZGVfbW9kdWxlcy9taW5pLWNzcy1leHRyYWN0LXBsdWdpbi9kaXN0L2htci9ub3JtYWxpemUtdXJsLmpzIiwid2VicGFjazovL2Fqcy8uL3NyYy9jc3Mvc3R5bGUuY3NzPzZiN2IiLCJ3ZWJwYWNrOi8vYWpzL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL2Fqcy93ZWJwYWNrL3J1bnRpbWUvZ2V0IGphdmFzY3JpcHQgdXBkYXRlIGNodW5rIGZpbGVuYW1lIiwid2VicGFjazovL2Fqcy93ZWJwYWNrL3J1bnRpbWUvZ2V0IG1pbmktY3NzIGNodW5rIGZpbGVuYW1lIiwid2VicGFjazovL2Fqcy93ZWJwYWNrL3J1bnRpbWUvZ2V0IHVwZGF0ZSBtYW5pZmVzdCBmaWxlbmFtZSIsIndlYnBhY2s6Ly9hanMvd2VicGFjay9ydW50aW1lL2dldEZ1bGxIYXNoIiwid2VicGFjazovL2Fqcy93ZWJwYWNrL3J1bnRpbWUvZ2xvYmFsIiwid2VicGFjazovL2Fqcy93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL2Fqcy93ZWJwYWNrL3J1bnRpbWUvaG90IG1vZHVsZSByZXBsYWNlbWVudCIsIndlYnBhY2s6Ly9hanMvd2VicGFjay9ydW50aW1lL3B1YmxpY1BhdGgiLCJ3ZWJwYWNrOi8vYWpzL3dlYnBhY2svcnVudGltZS9qc29ucCBjaHVuayBsb2FkaW5nIiwid2VicGFjazovL2Fqcy93ZWJwYWNrL3N0YXJ0dXAiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIGluUHJvZ3Jlc3MgPSB7fTtcbnZhciBkYXRhV2VicGFja1ByZWZpeCA9IFwiYWpzOlwiO1xuLy8gbG9hZFNjcmlwdCBmdW5jdGlvbiB0byBsb2FkIGEgc2NyaXB0IHZpYSBzY3JpcHQgdGFnXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmwgPSAodXJsLCBkb25lLCBrZXksIGNodW5rSWQpID0+IHtcblx0aWYoaW5Qcm9ncmVzc1t1cmxdKSB7IGluUHJvZ3Jlc3NbdXJsXS5wdXNoKGRvbmUpOyByZXR1cm47IH1cblx0dmFyIHNjcmlwdCwgbmVlZEF0dGFjaDtcblx0aWYoa2V5ICE9PSB1bmRlZmluZWQpIHtcblx0XHR2YXIgc2NyaXB0cyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwic2NyaXB0XCIpO1xuXHRcdGZvcih2YXIgaSA9IDA7IGkgPCBzY3JpcHRzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHR2YXIgcyA9IHNjcmlwdHNbaV07XG5cdFx0XHRpZihzLmdldEF0dHJpYnV0ZShcInNyY1wiKSA9PSB1cmwgfHwgcy5nZXRBdHRyaWJ1dGUoXCJkYXRhLXdlYnBhY2tcIikgPT0gZGF0YVdlYnBhY2tQcmVmaXggKyBrZXkpIHsgc2NyaXB0ID0gczsgYnJlYWs7IH1cblx0XHR9XG5cdH1cblx0aWYoIXNjcmlwdCkge1xuXHRcdG5lZWRBdHRhY2ggPSB0cnVlO1xuXHRcdHNjcmlwdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpO1xuXG5cdFx0c2NyaXB0LmNoYXJzZXQgPSAndXRmLTgnO1xuXHRcdHNjcmlwdC50aW1lb3V0ID0gMTIwO1xuXHRcdGlmIChfX3dlYnBhY2tfcmVxdWlyZV9fLm5jKSB7XG5cdFx0XHRzY3JpcHQuc2V0QXR0cmlidXRlKFwibm9uY2VcIiwgX193ZWJwYWNrX3JlcXVpcmVfXy5uYyk7XG5cdFx0fVxuXHRcdHNjcmlwdC5zZXRBdHRyaWJ1dGUoXCJkYXRhLXdlYnBhY2tcIiwgZGF0YVdlYnBhY2tQcmVmaXggKyBrZXkpO1xuXHRcdHNjcmlwdC5zcmMgPSB1cmw7XG5cdH1cblx0aW5Qcm9ncmVzc1t1cmxdID0gW2RvbmVdO1xuXHR2YXIgb25TY3JpcHRDb21wbGV0ZSA9IChwcmV2LCBldmVudCkgPT4ge1xuXHRcdC8vIGF2b2lkIG1lbSBsZWFrcyBpbiBJRS5cblx0XHRzY3JpcHQub25lcnJvciA9IHNjcmlwdC5vbmxvYWQgPSBudWxsO1xuXHRcdGNsZWFyVGltZW91dCh0aW1lb3V0KTtcblx0XHR2YXIgZG9uZUZucyA9IGluUHJvZ3Jlc3NbdXJsXTtcblx0XHRkZWxldGUgaW5Qcm9ncmVzc1t1cmxdO1xuXHRcdHNjcmlwdC5wYXJlbnROb2RlICYmIHNjcmlwdC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHNjcmlwdCk7XG5cdFx0ZG9uZUZucyAmJiBkb25lRm5zLmZvckVhY2goKGZuKSA9PiAoZm4oZXZlbnQpKSk7XG5cdFx0aWYocHJldikgcmV0dXJuIHByZXYoZXZlbnQpO1xuXHR9O1xuXHR2YXIgdGltZW91dCA9IHNldFRpbWVvdXQob25TY3JpcHRDb21wbGV0ZS5iaW5kKG51bGwsIHVuZGVmaW5lZCwgeyB0eXBlOiAndGltZW91dCcsIHRhcmdldDogc2NyaXB0IH0pLCAxMjAwMDApO1xuXHRzY3JpcHQub25lcnJvciA9IG9uU2NyaXB0Q29tcGxldGUuYmluZChudWxsLCBzY3JpcHQub25lcnJvcik7XG5cdHNjcmlwdC5vbmxvYWQgPSBvblNjcmlwdENvbXBsZXRlLmJpbmQobnVsbCwgc2NyaXB0Lm9ubG9hZCk7XG5cdG5lZWRBdHRhY2ggJiYgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChzY3JpcHQpO1xufTsiLCJ2YXIgY3JlYXRlU3R5bGVzaGVldCA9IChjaHVua0lkLCBmdWxsaHJlZiwgcmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG5cdHZhciBsaW5rVGFnID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxpbmtcIik7XG5cblx0bGlua1RhZy5yZWwgPSBcInN0eWxlc2hlZXRcIjtcblx0bGlua1RhZy50eXBlID0gXCJ0ZXh0L2Nzc1wiO1xuXHR2YXIgb25MaW5rQ29tcGxldGUgPSAoZXZlbnQpID0+IHtcblx0XHQvLyBhdm9pZCBtZW0gbGVha3MuXG5cdFx0bGlua1RhZy5vbmVycm9yID0gbGlua1RhZy5vbmxvYWQgPSBudWxsO1xuXHRcdGlmIChldmVudC50eXBlID09PSAnbG9hZCcpIHtcblx0XHRcdHJlc29sdmUoKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dmFyIGVycm9yVHlwZSA9IGV2ZW50ICYmIChldmVudC50eXBlID09PSAnbG9hZCcgPyAnbWlzc2luZycgOiBldmVudC50eXBlKTtcblx0XHRcdHZhciByZWFsSHJlZiA9IGV2ZW50ICYmIGV2ZW50LnRhcmdldCAmJiBldmVudC50YXJnZXQuaHJlZiB8fCBmdWxsaHJlZjtcblx0XHRcdHZhciBlcnIgPSBuZXcgRXJyb3IoXCJMb2FkaW5nIENTUyBjaHVuayBcIiArIGNodW5rSWQgKyBcIiBmYWlsZWQuXFxuKFwiICsgcmVhbEhyZWYgKyBcIilcIik7XG5cdFx0XHRlcnIuY29kZSA9IFwiQ1NTX0NIVU5LX0xPQURfRkFJTEVEXCI7XG5cdFx0XHRlcnIudHlwZSA9IGVycm9yVHlwZTtcblx0XHRcdGVyci5yZXF1ZXN0ID0gcmVhbEhyZWY7XG5cdFx0XHRsaW5rVGFnLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobGlua1RhZylcblx0XHRcdHJlamVjdChlcnIpO1xuXHRcdH1cblx0fVxuXHRsaW5rVGFnLm9uZXJyb3IgPSBsaW5rVGFnLm9ubG9hZCA9IG9uTGlua0NvbXBsZXRlO1xuXHRsaW5rVGFnLmhyZWYgPSBmdWxsaHJlZjtcblxuXHRkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKGxpbmtUYWcpO1xuXHRyZXR1cm4gbGlua1RhZztcbn07XG52YXIgZmluZFN0eWxlc2hlZXQgPSAoaHJlZiwgZnVsbGhyZWYpID0+IHtcblx0dmFyIGV4aXN0aW5nTGlua1RhZ3MgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcImxpbmtcIik7XG5cdGZvcih2YXIgaSA9IDA7IGkgPCBleGlzdGluZ0xpbmtUYWdzLmxlbmd0aDsgaSsrKSB7XG5cdFx0dmFyIHRhZyA9IGV4aXN0aW5nTGlua1RhZ3NbaV07XG5cdFx0dmFyIGRhdGFIcmVmID0gdGFnLmdldEF0dHJpYnV0ZShcImRhdGEtaHJlZlwiKSB8fCB0YWcuZ2V0QXR0cmlidXRlKFwiaHJlZlwiKTtcblx0XHRpZih0YWcucmVsID09PSBcInN0eWxlc2hlZXRcIiAmJiAoZGF0YUhyZWYgPT09IGhyZWYgfHwgZGF0YUhyZWYgPT09IGZ1bGxocmVmKSkgcmV0dXJuIHRhZztcblx0fVxuXHR2YXIgZXhpc3RpbmdTdHlsZVRhZ3MgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcInN0eWxlXCIpO1xuXHRmb3IodmFyIGkgPSAwOyBpIDwgZXhpc3RpbmdTdHlsZVRhZ3MubGVuZ3RoOyBpKyspIHtcblx0XHR2YXIgdGFnID0gZXhpc3RpbmdTdHlsZVRhZ3NbaV07XG5cdFx0dmFyIGRhdGFIcmVmID0gdGFnLmdldEF0dHJpYnV0ZShcImRhdGEtaHJlZlwiKTtcblx0XHRpZihkYXRhSHJlZiA9PT0gaHJlZiB8fCBkYXRhSHJlZiA9PT0gZnVsbGhyZWYpIHJldHVybiB0YWc7XG5cdH1cbn07XG52YXIgbG9hZFN0eWxlc2hlZXQgPSAoY2h1bmtJZCkgPT4ge1xuXHRyZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuXHRcdHZhciBocmVmID0gX193ZWJwYWNrX3JlcXVpcmVfXy5taW5pQ3NzRihjaHVua0lkKTtcblx0XHR2YXIgZnVsbGhyZWYgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLnAgKyBocmVmO1xuXHRcdGlmKGZpbmRTdHlsZXNoZWV0KGhyZWYsIGZ1bGxocmVmKSkgcmV0dXJuIHJlc29sdmUoKTtcblx0XHRjcmVhdGVTdHlsZXNoZWV0KGNodW5rSWQsIGZ1bGxocmVmLCByZXNvbHZlLCByZWplY3QpO1xuXHR9KTtcbn1cbi8vIG5vIGNodW5rIGxvYWRpbmdcblxudmFyIG9sZFRhZ3MgPSBbXTtcbnZhciBuZXdUYWdzID0gW107XG52YXIgYXBwbHlIYW5kbGVyID0gKG9wdGlvbnMpID0+IHtcblx0cmV0dXJuIHsgZGlzcG9zZTogKCkgPT4ge1xuXHRcdGZvcih2YXIgaSA9IDA7IGkgPCBvbGRUYWdzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHR2YXIgb2xkVGFnID0gb2xkVGFnc1tpXTtcblx0XHRcdGlmKG9sZFRhZy5wYXJlbnROb2RlKSBvbGRUYWcucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChvbGRUYWcpO1xuXHRcdH1cblx0XHRvbGRUYWdzLmxlbmd0aCA9IDA7XG5cdH0sIGFwcGx5OiAoKSA9PiB7XG5cdFx0Zm9yKHZhciBpID0gMDsgaSA8IG5ld1RhZ3MubGVuZ3RoOyBpKyspIG5ld1RhZ3NbaV0ucmVsID0gXCJzdHlsZXNoZWV0XCI7XG5cdFx0bmV3VGFncy5sZW5ndGggPSAwO1xuXHR9IH07XG59XG5fX3dlYnBhY2tfcmVxdWlyZV9fLmhtckMubWluaUNzcyA9IChjaHVua0lkcywgcmVtb3ZlZENodW5rcywgcmVtb3ZlZE1vZHVsZXMsIHByb21pc2VzLCBhcHBseUhhbmRsZXJzLCB1cGRhdGVkTW9kdWxlc0xpc3QpID0+IHtcblx0YXBwbHlIYW5kbGVycy5wdXNoKGFwcGx5SGFuZGxlcik7XG5cdGNodW5rSWRzLmZvckVhY2goKGNodW5rSWQpID0+IHtcblx0XHR2YXIgaHJlZiA9IF9fd2VicGFja19yZXF1aXJlX18ubWluaUNzc0YoY2h1bmtJZCk7XG5cdFx0dmFyIGZ1bGxocmVmID0gX193ZWJwYWNrX3JlcXVpcmVfXy5wICsgaHJlZjtcblx0XHR2YXIgb2xkVGFnID0gZmluZFN0eWxlc2hlZXQoaHJlZiwgZnVsbGhyZWYpO1xuXHRcdGlmKCFvbGRUYWcpIHJldHVybjtcblx0XHRwcm9taXNlcy5wdXNoKG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcblx0XHRcdHZhciB0YWcgPSBjcmVhdGVTdHlsZXNoZWV0KGNodW5rSWQsIGZ1bGxocmVmLCAoKSA9PiB7XG5cdFx0XHRcdHRhZy5hcyA9IFwic3R5bGVcIjtcblx0XHRcdFx0dGFnLnJlbCA9IFwicHJlbG9hZFwiO1xuXHRcdFx0XHRyZXNvbHZlKCk7XG5cdFx0XHR9LCByZWplY3QpO1xuXHRcdFx0b2xkVGFncy5wdXNoKG9sZFRhZyk7XG5cdFx0XHRuZXdUYWdzLnB1c2godGFnKTtcblx0XHR9KSk7XG5cdH0pO1xufSIsImltcG9ydCBDYXJkU3lzIGZyb20gJy4vY29tcG9uZW50JztcblxuZXhwb3J0IGZ1bmN0aW9uIHNhdmVEYXRhKGNvbnRhaW5lcikge1xuICBjb25zdCBjYXJkc0RhdGEgPSBbXTtcbiAgY29uc3QgY29scyA9IEFycmF5LmZyb20oY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGwoJy5jb2wnKSk7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgY29scy5sZW5ndGg7IGkgKz0gMSkge1xuICAgIGNvbnN0IGNhcmRzID0gQXJyYXkuZnJvbShjb2xzW2ldLnF1ZXJ5U2VsZWN0b3JBbGwoJy5jYXJkJykpO1xuICAgIGZvciAobGV0IGogPSAwOyBqIDwgY2FyZHMubGVuZ3RoOyBqICs9IDEpIHtcbiAgICAgIGNhcmRzW2pdID0gY2FyZHNbal0uaW5uZXJIVE1MO1xuICAgIH1cbiAgICBjYXJkc0RhdGFbaV0gPSBjYXJkcztcbiAgfVxuICBsb2NhbFN0b3JhZ2Uuc2F2ZWREYXRhID0gSlNPTi5zdHJpbmdpZnkoY2FyZHNEYXRhKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlYWRTYXZlZERhdGEoY29udGFpbmVyKSB7XG4gIGNvbnN0IGNhcmRzRGF0YSA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3NhdmVkRGF0YScpKTtcbiAgaWYgKGNhcmRzRGF0YSkge1xuICAgIGNvbnN0IGNvbHMgPSBBcnJheS5mcm9tKGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yQWxsKCcuY29sJykpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY29scy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgY29uc3QgYnRuID0gY29sc1tpXS5xdWVyeVNlbGVjdG9yKCcuYWRkQnRuJyk7XG5cbiAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgY2FyZHNEYXRhW2ldLmxlbmd0aDsgaiArPSAxKSB7XG4gICAgICAgIGNvbnN0IGNhcmRFbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBjYXJkRWwuY2xhc3NMaXN0LmFkZCgnY2FyZCcpO1xuICAgICAgICBidG4uYmVmb3JlKGNhcmRFbCk7XG4gICAgICAgIGNhcmRFbC5pbnNlcnRBZGphY2VudEhUTUwoJ2JlZm9yZWVuZCcsIGNhcmRzRGF0YVtpXVtqXSk7XG4gICAgICAgIENhcmRTeXMuY2xvc2VDYXJkRXZlbnRzKGNvbnRhaW5lciwgY2FyZEVsKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cbiIsImltcG9ydCBkcmFnRHJvcFNldCBmcm9tICcuL2RyYWdEcm9wU2V0JztcbmltcG9ydCB7IHNhdmVEYXRhLCByZWFkU2F2ZWREYXRhIH0gZnJvbSAnLi9sb2NhbFNhdmUnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDYXJkU3lzIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5jb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY29udGFpbmVyJyk7XG4gICAgdGhpcy5hZGRCdG5zID0gdGhpcy5jb250YWluZXIucXVlcnlTZWxlY3RvckFsbCgnLmFkZEJ0bicpO1xuICAgIGZvciAoY29uc3QgZWxlbSBvZiB0aGlzLmFkZEJ0bnMpIHtcbiAgICAgIGVsZW0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZ0KSA9PiB7XG4gICAgICAgIGV2dC5jdXJyZW50VGFyZ2V0LmNsYXNzTGlzdC50b2dnbGUoJ2hpZGRlbicpO1xuICAgICAgICBjb25zdCBhZGRCbG9ja0VsID0gQ2FyZFN5cy5jcmVhdGVBZGRCbG9jaygpO1xuICAgICAgICBldnQuY3VycmVudFRhcmdldC5hZnRlcihhZGRCbG9ja0VsKTtcbiAgICAgICAgdGhpcy5jcmVhdGVDYXJkKGFkZEJsb2NrRWwpO1xuICAgICAgICBhZGRCbG9ja0VsLnF1ZXJ5U2VsZWN0b3IoJ3RleHRhcmVhJykuZm9jdXMoKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGRyYWdEcm9wU2V0KHRoaXMuY29udGFpbmVyLCB0aGlzLmFkZEJ0bnMpO1xuICAgIHJlYWRTYXZlZERhdGEodGhpcy5jb250YWluZXIpO1xuICB9XG5cbiAgLy8g0YHQvtC30LTQsNC90LjQtSDQsdC70L7QutCwINGBINGC0LXQutGB0YLQvtCy0YvQvCAg0L/QvtC70LXQvCDQuCDQutC90L7Qv9C60LDQvNC4INC00LvRjyDQtNC+0LHQsNCy0LvQtdC90LjRj1xuICBzdGF0aWMgY3JlYXRlQWRkQmxvY2soKSB7XG4gICAgY29uc3QgZmllbGQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBmaWVsZC5jbGFzc0xpc3QuYWRkKCdhZGRmaWVsZCcpO1xuICAgIGZpZWxkLmluc2VydEFkamFjZW50SFRNTCgnYmVmb3JlZW5kJywgJzx0ZXh0YXJlYSBjbGFzcz1cInRleHRhcmVhc3R5bGVcIiByb3dzPVwiMlwiICBtYXhsZW5ndGg9XCIyMDBcIiBwbGFjZWhvbGRlcj1cIkVudGVyIGEgdGl0bGUgZm9yIHRoaXMgY2FyZFwiPjwvdGV4dGFyZWE+PGJ1dHRvbiBjbGFzcz1cInNldGJ0blwiPkFkZCBGaWVsZDwvYnV0dG9uPjxzcGFuPiYjMTAwMDY8L3NwYW4+Jyk7IHJldHVybiBmaWVsZDtcbiAgfVxuXG4gIC8vINGB0L7Qt9C00LDQvdC40LUg0Lgg0LLRgdGC0LDQstC60LAg0LrQsNGA0YLQvtGH0LrQuCDRgSDRgtC10LrRgdGC0L7QvCDQuNC3INGD0LfQu9CwIDx0ZXh0QXJlYT5cbiAgY3JlYXRlQ2FyZChlbGVtKSB7XG4gICAgY29uc3Qgc2V0QnRuID0gZWxlbS5xdWVyeVNlbGVjdG9yKCcuc2V0YnRuJyk7XG4gICAgY29uc3QgdGV4dEFyZWEgPSBlbGVtLnF1ZXJ5U2VsZWN0b3IoJ3RleHRhcmVhJyk7XG4gICAgY29uc3QgYnRuRWwgPSBlbGVtLmNsb3Nlc3QoJy5jb2wnKS5xdWVyeVNlbGVjdG9yKCcuYWRkQnRuJyk7XG4gICAgc2V0QnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgaWYgKCF0ZXh0QXJlYS52YWx1ZSkge1xuICAgICAgICBhbGVydCgn0JfQsNC/0L7Qu9C90LjRgtC1INC00LDQvdC90YvQtScpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBjYXJkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICBjYXJkLmNsYXNzTGlzdC5hZGQoJ2NhcmQnKTtcbiAgICAgIGNhcmQuYXBwZW5kKHRleHRBcmVhLnZhbHVlKTtcbiAgICAgIGJ0bkVsLmJlZm9yZShjYXJkKTtcbiAgICAgIGJ0bkVsLmNsYXNzTGlzdC50b2dnbGUoJ2hpZGRlbicpO1xuICAgICAgZWxlbS5yZW1vdmUoKTtcbiAgICAgIHRoaXMu0YFsb3NlQ2FyZEJ0bihjYXJkKTtcbiAgICAgIHNhdmVEYXRhKHRoaXMuY29udGFpbmVyKTtcbiAgICB9KTtcbiAgICAvLyDQutC90L7Qv9C60LAg0YPQtNCw0LvQtdC90LjRjyDQsdC70L7QutCwINGBIDx0ZXh0YXJlYT5cbiAgICBjb25zdCBjbG9zZUJ0biA9IGVsZW0ucXVlcnlTZWxlY3Rvcignc3BhbicpO1xuICAgIGNsb3NlQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgZWxlbS5yZW1vdmUoKTtcbiAgICAgIGJ0bkVsLmNsYXNzTGlzdC50b2dnbGUoJ2hpZGRlbicpO1xuICAgIH0pO1xuICB9XG5cbiAgLy8g0LrQvdC+0L/QutCwINGD0LTQsNC70LXQvdC40Y8g0LrQsNGA0YLQvtGH0LrQuDpcbiAg0YFsb3NlQ2FyZEJ0bihjYXJkRWwpIHtcbiAgICBjYXJkRWwuaW5zZXJ0QWRqYWNlbnRIVE1MKCdhZnRlcmJlZ2luJywgJzxkaXYgY2xhc3M9XCJjbG9zZWNhcmQgaGlkZGVuXCI+PHNwYW4+JiMxMDAwNjwvc3Bhbj48L2Rpdj4nKTtcbiAgICBDYXJkU3lzLmNsb3NlQ2FyZEV2ZW50cyh0aGlzLmNvbnRhaW5lciwgY2FyZEVsKTtcbiAgfVxuXG4gIHN0YXRpYyBjbG9zZUNhcmRFdmVudHMoY29udGFpbmVyLCBjYXJkRWwpIHtcbiAgICBjb25zdCBjbG9zZUNhcmRCdG4gPSBjYXJkRWwucXVlcnlTZWxlY3RvcignLmNsb3NlY2FyZCcpO1xuICAgIGNhcmRFbC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW92ZXInLCAoKSA9PiB7XG4gICAgICBjbG9zZUNhcmRCdG4uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgfSk7XG4gICAgY2FyZEVsLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlb3V0JywgKCkgPT4ge1xuICAgICAgY2xvc2VDYXJkQnRuLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgIH0pO1xuICAgIGNsb3NlQ2FyZEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIGNhcmRFbC5yZW1vdmUoKTtcbiAgICAgIHNhdmVEYXRhKGNvbnRhaW5lcik7XG4gICAgfSk7XG4gIH1cblxuICAvLyDRg9GB0YLQsNC90L7QstC60LAgLyDQvtGC0LrQu9GO0YfQtdC90LjQtSBob3Zlci3RgdGC0LjQu9C10Lkg0L/RgNC4INC/0LXRgNC10YLQsNGB0LrQuNCy0LDQvdC40LhcbiAgc3RhdGljIGRyYWdFbGVtc1N0eWxlKGNvbnRhaW5lciwgYWRkQnRucykge1xuICAgIGNvbnRhaW5lci5zdHlsZS5jdXJzb3IgPSAnZ3JhYmJpbmcnO1xuICAgIGZvciAoY29uc3QgZWxlbSBvZiBhZGRCdG5zKSB7XG4gICAgICBlbGVtLmNsYXNzTGlzdC5hZGQoJ2FkZEJ0bmRyYWdzdHlsZScpO1xuICAgIH1cbiAgICBjb25zdCBjbG9zZWNhcmRFbGVtcyA9IGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yQWxsKCcuY2xvc2VjYXJkJyk7XG4gICAgY2xvc2VjYXJkRWxlbXMuZm9yRWFjaCgoZWxlbSkgPT4ge1xuICAgICAgZWxlbS5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICB9KTtcbiAgfVxuXG4gIHN0YXRpYyBkcmFnRWxlbVN0eWxlT2ZmKGNvbnRhaW5lciwgYWRkQnRucykge1xuICAgIGNvbnRhaW5lci5yZW1vdmVBdHRyaWJ1dGUoJ3N0eWxlJyk7XG4gICAgZm9yIChjb25zdCBlbGVtIG9mIGFkZEJ0bnMpIHtcbiAgICAgIGVsZW0uY2xhc3NMaXN0LnJlbW92ZSgnYWRkQnRuZHJhZ3N0eWxlJyk7XG4gICAgfVxuICB9XG5cbiAgLy8g0LTQvtCx0LDQstC70LXQvdC40LUg0YHQstC+0LHQvtC00L3QvtCz0L4g0L/QvtC70Y8g0LTQu9GPINCy0YHRgtCw0LLQutC4INC/0YDQuCDQv9C10YDQtdC80LXRidC10L3QuNC4INC90LDQtCDQu9GO0LHRi9C8INGN0Lst0L7QvCA8Ki5jYXJkPlxuICBzdGF0aWMgZnJlZUlucHV0RmllbGRTZXQoY29udGFpbmVyLCBldnQsIGdob3N0RWwsIGlucHV0RmllbGRDb29yZHMpIHtcbiAgICBjb25zdCBjbG9zZXN0RWwgPSBkb2N1bWVudC5lbGVtZW50RnJvbVBvaW50KGV2dC5jbGllbnRYLCBldnQuY2xpZW50WSk7XG4gICAgY29uc3QgeyB0b3AgfSA9IGNsb3Nlc3RFbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuICAgIGlmIChjbG9zZXN0RWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdjYXJkJykpIHtcbiAgICAgIGNvbnN0IGNhcmRFbHMgPSBjb250YWluZXIucXVlcnlTZWxlY3RvckFsbCgnLmNhcmQnKTtcbiAgICAgIGNhcmRFbHMuZm9yRWFjaCgoZWxlbSkgPT4ge1xuICAgICAgICBpZiAoZWxlbSAhPT0gY2xvc2VzdEVsKSB7XG4gICAgICAgICAgZWxlbS5yZW1vdmVBdHRyaWJ1dGUoJ3N0eWxlJyk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgLy8g0LfQsNC/0L7QvNC40L3QsNC10Lwg0LvQtdCy0YPRjiDQuCDQv9GA0LDQstGD0Y4g0LPRgNCw0L3QuNGG0Ysg0LTQu9GPINC/0L7Qu9GPINCy0YHRgtCw0LLQutC4OlxuICAgICAgaW5wdXRGaWVsZENvb3Jkcy5sZWZ0ID0gY2xvc2VzdEVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmxlZnQ7XG4gICAgICBpbnB1dEZpZWxkQ29vcmRzLnJpZ2h0ID0gY2xvc2VzdEVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnJpZ2h0O1xuICAgICAgLy8g0LTQvtCx0LDQstC40YLRjCDQvtGC0YHRgtGD0L/RiyDQtNC70Y8g0L/QvtC70Y8g0LLRgdGC0LDQstC60Lgg0L3QuNC20LUg0LrRg9GA0YHQvtGA0LBcbiAgICAgIGlmIChldnQucGFnZVkgPiB3aW5kb3cuc2Nyb2xsWSArIHRvcCArIGNsb3Nlc3RFbC5vZmZzZXRIZWlnaHQgLyAyKSB7XG4gICAgICAgIGNsb3Nlc3RFbC5zdHlsZS5tYXJnaW5Cb3R0b20gPSBgJHtnaG9zdEVsLm9mZnNldEhlaWdodCArIDEwfXB4YDtcbiAgICAgICAgY2xvc2VzdEVsLnN0eWxlLm1hcmdpblRvcCA9ICcwJztcbiAgICAgICAgLy8g0LfQsNC/0L7QvNC40L3QsNC10Lwg0L/Rg9GB0YLQvtC1INC/0L7Qu9C1INCy0YHRgtCw0LLQutC4LCDQutC+0YLQvtGA0L7QtSDQvdC40LbQtSDQutGD0YDRgdC+0YDQsCDQvtGC0L3QvtGB0LjRgtC10LvRjNC90L4gY2xvc2VzdEVsOlxuICAgICAgICBpbnB1dEZpZWxkQ29vcmRzLnRvcCA9IGNsb3Nlc3RFbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5ib3R0b207XG4gICAgICAgIGlucHV0RmllbGRDb29yZHMuYm90dG9tID0gY2xvc2VzdEVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpXG4gICAgICAgICAgLmJvdHRvbSArIGdob3N0RWwub2Zmc2V0SGVpZ2h0ICsgMTA7XG4gICAgICAgIGlucHV0RmllbGRDb29yZHMucG9zID0gJ2JvdHRvbSc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyDQtNC+0LHQsNCy0LjRgtGMINC+0YLRgdGC0YPQv9GLINC00LvRjyDQv9C+0LvRjyDQstGB0YLQsNCy0LrQuCDQstGL0YjQtSDQutGD0YDRgdC+0YDQsCDQvtGC0L3QvtGB0LjRgtC10LvRjNC90L4gY2xvc2VzdEVsOlxuICAgICAgICBjbG9zZXN0RWwuc3R5bGUubWFyZ2luQm90dG9tID0gJzEwcHgnO1xuICAgICAgICBjbG9zZXN0RWwuc3R5bGUubWFyZ2luVG9wID0gYCR7Z2hvc3RFbC5vZmZzZXRIZWlnaHQgKyAxMH1weGA7XG4gICAgICAgIC8vINC30LDQv9C+0LzQuNC90LDQtdC8INC/0YPRgdGC0L7QtSDQv9C+0LvQtSDQstGB0YLQsNCy0LrQuCwg0LrQvtGC0L7RgNC+0LUg0LLRi9GI0LUg0LrRg9GA0YHQvtGA0LA6XG4gICAgICAgIGlucHV0RmllbGRDb29yZHMudG9wID0gY2xvc2VzdEVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcCAtIGdob3N0RWwub2Zmc2V0SGVpZ2h0IC0gMTA7XG4gICAgICAgIGlucHV0RmllbGRDb29yZHMuYm90dG9tID0gY2xvc2VzdEVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcDtcbiAgICAgICAgaW5wdXRGaWVsZENvb3Jkcy5wb3MgPSAndG9wJztcbiAgICAgIH1cbiAgICAgIGlucHV0RmllbGRDb29yZHMubGFzdE92ZXJFbCA9IGNsb3Nlc3RFbDtcbiAgICB9XG4gICAgcmV0dXJuIGlucHV0RmllbGRDb29yZHM7XG4gIH1cblxuICAvLyDRgdCx0YDQvtGBINC00L7Qvy4g0L7RgtGB0YLRg9C/0L7QsiDQtNC70Y8g0L/QvtC70Y8g0LLRgdGC0LDQstC60Lgg0YMgY2FyZC3RjdC70LXQvNC10L3RgtC+0LJcbiAgc3RhdGljIGZyZWVJbnB1dEZpZWxkT2ZmKGNvbnRhaW5lcikge1xuICAgIGNvbnN0IGNhcmRFbHMgPSBjb250YWluZXIucXVlcnlTZWxlY3RvckFsbCgnLmNhcmQnKTtcbiAgICBjYXJkRWxzLmZvckVhY2goKGVsZW0pID0+IHtcbiAgICAgIGVsZW0ucmVtb3ZlQXR0cmlidXRlKCdzdHlsZScpO1xuICAgIH0pO1xuICB9XG59XG4iLCJpbXBvcnQgQ2FyZFN5cyBmcm9tICcuL2NvbXBvbmVudCc7XG5pbXBvcnQgeyBzYXZlRGF0YSB9IGZyb20gJy4vbG9jYWxTYXZlJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZHJhZ0Ryb3BTZXQoY29udGFpbmVyLCBhZGRCdG5zKSB7XG4gIGxldCBkcmFnZ2VkRWwgPSBudWxsO1xuICBsZXQgZ2hvc3RFbCA9IG51bGw7XG4gIGxldCBFdnRHaG9zdEVsTGVmdDtcbiAgbGV0IEV2dEdob3N0RWxUb3A7XG4gIGxldCBpbnB1dEZpZWxkQ29vcmRzID0ge307XG4gIFxuICAvLyDQtNC10LnRgdGC0LLQuNGPINC/0YDQuCDQvdCw0LbQsNGC0LjQuCDQutC90L7Qv9C60Lgg0LzRi9GI0LhcbiAgY29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIChldnQpID0+IHtcbiAgICBpZiAoIWV2dC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdjYXJkJykpIHJldHVybjtcbiAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICBjb250YWluZXIuc3R5bGUuY3Vyc29yID0gJ2dyYWInO1xuICAgIGRyYWdnZWRFbCA9IGV2dC50YXJnZXQ7XG4gICAgZ2hvc3RFbCA9IGV2dC50YXJnZXQuY2xvbmVOb2RlKHRydWUpO1xuICAgIGdob3N0RWwuY2xhc3NMaXN0LmFkZCgnZHJhZ2dlZCcpO1xuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZ2hvc3RFbCk7XG4gICAgXG4gICAgLy8g0LLRi9GB0YLQsNCy0LvQtdC90LjQtSDRgdGC0LDRgNGC0L7QstGL0YUg0YDQsNC30LzQtdGA0L7QsiDQuCDQutC+0L7RgNC00LjQvdCw0YIg0LTQu9GPIGdob3N0RWw6XG4gICAgY29uc3QgeyB0b3AgfSA9IGRyYWdnZWRFbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICBjb25zdCB7IGxlZnQgfSA9IGRyYWdnZWRFbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICBnaG9zdEVsLnN0eWxlLmxlZnQgPSBgJHtsZWZ0fXB4YDtcbiAgICBnaG9zdEVsLnN0eWxlLnRvcCA9IGAke3RvcH1weGA7XG4gICAgZ2hvc3RFbC5zdHlsZS53aWR0aCA9IGAke2RyYWdnZWRFbC5vZmZzZXRXaWR0aH1weGA7XG4gICAgZ2hvc3RFbC5zdHlsZS5oZWlnaHQgPSBgJHtkcmFnZ2VkRWwub2Zmc2V0SGVpZ2h0fXB4YDtcbiAgICBcbiAgICBFdnRHaG9zdEVsTGVmdCA9IGV2dC5wYWdlWCAtIGxlZnQ7XG4gICAgRXZ0R2hvc3RFbFRvcCA9IGV2dC5wYWdlWSAtIHRvcDtcbiAgfSk7XG4gIFxuICAvLyDQtNC10LnRgdGC0LLQuNGPINC/0YDQuCDQtNCy0LjQttC10L3QuNC4INC90LDQttCw0YLQvtC5INC80YvRiNC4XG4gIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgKGV2dCkgPT4ge1xuICAgIGlmICghZ2hvc3RFbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICBDYXJkU3lzLmRyYWdFbGVtc1N0eWxlKGNvbnRhaW5lciwgYWRkQnRucyk7XG4gICAgZ2hvc3RFbC5zdHlsZS5sZWZ0ID0gYCR7ZXZ0LnBhZ2VYIC0gRXZ0R2hvc3RFbExlZnR9cHhgO1xuICAgIGdob3N0RWwuc3R5bGUudG9wID0gYCR7ZXZ0LnBhZ2VZIC0gRXZ0R2hvc3RFbFRvcH1weGA7XG4gICAgXG4gICAgLy8g0YHQvtC30LTQsNC90LjQtSDRgdCy0L7QsdC+0LTQvdC+0LPQviDQv9C+0LvRjyDQtNC70Y8g0LLRgdGC0LDQstC60LhcbiAgICBDYXJkU3lzLmZyZWVJbnB1dEZpZWxkU2V0KGNvbnRhaW5lciwgZXZ0LCBnaG9zdEVsLCBpbnB1dEZpZWxkQ29vcmRzKTtcbiAgICBkcmFnZ2VkRWwuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgXG4gICAgLy/QtNC10LnRgdGC0LLQuNGPINC/0YDQuCDQstGL0YXQvtC00LUg0LfQsCDQs9GA0LDQvdC40YbRiyDQvtCx0LvQsNGB0YLQuCDQv9C10YDQtdGC0LDRgdC60LjQstCw0L3QuNGPXG4gICAgY29uc3QgY29udGFpbmVyVG9wID0gY29udGFpbmVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLlRvcCArIHdpbmRvdy5zY3JvbGxZO1xuICAgIGNvbnN0IGNvbnRhaW5lckJvdHRvbSA9IGNvbnRhaW5lci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5ib3R0b20gKyB3aW5kb3cuc2Nyb2xsWTtcbiAgICBjb25zdCBjb250YWluZXJ0TGVmdCA9IGNvbnRhaW5lci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0ICsgd2luZG93LnNjcm9sbFg7XG4gICAgY29uc3QgY29udGFpbmVyUmlnaHQgPSBjb250YWluZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkucmlnaHQgKyB3aW5kb3cuc2Nyb2xsWDtcbiAgICBjb25zdCBnaG9zdEVsVG9wID0gZ2hvc3RFbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3AgKyB3aW5kb3cuc2Nyb2xsWTtcbiAgICBjb25zdCBnaG9zdEVsQm90dG9tID0gZ2hvc3RFbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5ib3R0b20gKyB3aW5kb3cuc2Nyb2xsWTtcbiAgICBjb25zdCBnaG9zdEVsTGVmdCA9IGdob3N0RWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdCArIHdpbmRvdy5zY3JvbGxYO1xuICAgIGNvbnN0IGdob3N0RWxSaWdodCA9IGdob3N0RWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkucmlnaHQgKyB3aW5kb3cuc2Nyb2xsWDtcbiAgICBcbiAgICBpZiAoZ2hvc3RFbFRvcCA+IGNvbnRhaW5lckJvdHRvbSB8fCBnaG9zdEVsTGVmdCA+IGNvbnRhaW5lclJpZ2h0IHx8XG4gICAgICAgZ2hvc3RFbFJpZ2h0IDwgY29udGFpbmVydExlZnQgfHwgZ2hvc3RFbEJvdHRvbSA8IGNvbnRhaW5lclRvcCkge1xuICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChnaG9zdEVsKTtcbiAgICAgIGdob3N0RWwgPSBudWxsO1xuICAgICAgZHJhZ2dlZEVsLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgQ2FyZFN5cy5kcmFnRWxlbVN0eWxlT2ZmKGNvbnRhaW5lciwgYWRkQnRucyk7XG4gICAgICBDYXJkU3lzLmZyZWVJbnB1dEZpZWxkT2ZmKGNvbnRhaW5lcik7ICAgICAgXG4gICAgfVxuICAgIFxuICB9KTtcbiAgXG4gIC8v0LTQtdC50YHRgtCy0LjRjyDQv9GA0Lgg0LLRi9GF0L7QtNC1INC30LAg0LPRgNCw0L3QuNGG0Ysg0L7QsdC70LDRgdGC0Lgg0L/QtdGA0LXRgtCw0YHQutC40LLQsNC90LjRj1xuICAvKiBkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIChldnQpID0+IHtcbiAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICBpZiAoIWdob3N0RWwpIHtcbiAgICAgIHJldHVybjtcbiAgICB9ICAgIFxuICAgIGNvbnN0IGNvbnRhaW5lckJvdHRvbSA9IGNvbnRhaW5lci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5ib3R0b20gKyB3aW5kb3cuc2Nyb2xsWTtcbiAgICBjb25zdCBjb250YWluZXJ0TGVmdCA9IGNvbnRhaW5lci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0ICsgd2luZG93LnNjcm9sbFg7XG4gICAgY29uc3QgY29udGFpbmVyUmlnaHQgPSBjb250YWluZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkucmlnaHQgKyB3aW5kb3cuc2Nyb2xsWDtcbiAgICBjb25zdCBnaG9zdEVsVG9wID0gZ2hvc3RFbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3AgKyB3aW5kb3cuc2Nyb2xsWTtcbiAgICBjb25zdCBnaG9zdEVsTGVmdCA9IGdob3N0RWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdCArIHdpbmRvdy5zY3JvbGxYO1xuICAgIGNvbnN0IGdob3N0RWxSaWdodCA9IGdob3N0RWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkucmlnaHQgKyB3aW5kb3cuc2Nyb2xsWDtcbiAgICBcbiAgICBpZiAoZ2hvc3RFbFRvcCA+IGNvbnRhaW5lckJvdHRvbSB8fCBnaG9zdEVsTGVmdCA+IGNvbnRhaW5lclJpZ2h0IHx8IGdob3N0RWxSaWdodCA8IGNvbnRhaW5lcnRMZWZ0KSB7XG4gICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGdob3N0RWwpO1xuICAgICAgZ2hvc3RFbCA9IG51bGw7XG4gICAgICBkcmFnZ2VkRWwuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICBDYXJkU3lzLmRyYWdFbGVtU3R5bGVPZmYoY29udGFpbmVyLCBhZGRCdG5zKTtcbiAgICAgIENhcmRTeXMuZnJlZUlucHV0RmllbGRPZmYoY29udGFpbmVyKTsgICAgICBcbiAgICB9XG4gIH0pOyAqL1xuICBcbiAgXG4gIC8vINC00LXQudGB0YLQstC40Y8g0L/RgNC4INC+0YLQv9GD0YHQutCw0L3QuNC4INC60L3QvtC/0LrQuCDQvNGL0YjQuFxuICBjb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIChldnQpID0+IHtcbiAgICBpZiAoIWdob3N0RWwpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgY2xvc2VzdCA9IGRvY3VtZW50LmVsZW1lbnRGcm9tUG9pbnQoZXZ0LmNsaWVudFgsIGV2dC5jbGllbnRZKTtcbiAgICBjb25zdCBjbG9zZXN0Q29sID0gZXZ0LnRhcmdldC5jbG9zZXN0KCcuY29sJyk7XG4gICAgXG4gICAgLy8g0LLRgdGC0LDQstC60LAg0LIg0L/Rg9GB0YLRg9GOINC60L7Qu9C+0L3QutGDXG4gICAgaWYgKGNsb3Nlc3RDb2wgJiYgY2xvc2VzdENvbC5xdWVyeVNlbGVjdG9yKCcuY2FyZCcpID09PSBudWxsKSB7XG4gICAgICBjb25zdCB0aXRsZUVsID0gY2xvc2VzdENvbC5xdWVyeVNlbGVjdG9yKCcuY29sVGl0bGUnKTtcbiAgICAgIHRpdGxlRWwuYWZ0ZXIoZHJhZ2dlZEVsKTtcbiAgICAgIFxuICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChnaG9zdEVsKTtcbiAgICAgIGdob3N0RWwgPSBudWxsO1xuICAgICAgZHJhZ2dlZEVsLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgQ2FyZFN5cy5kcmFnRWxlbVN0eWxlT2ZmKGNvbnRhaW5lciwgYWRkQnRucyk7XG4gICAgICBDYXJkU3lzLmZyZWVJbnB1dEZpZWxkT2ZmKGNvbnRhaW5lcik7XG4gICAgICBzYXZlRGF0YShjb250YWluZXIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBcbiAgICAvLyDQstGB0YLQsNCy0LrQsCwg0LrQvtCz0LTQsCDQutGD0YDRgdC+0YAg0L3QsNC0INC/0YPRgdGC0YvQvCDQv9C+0LvQtdC8INC00LvRjyDQstGB0YLQsNCy0LrQuDpcbiAgICBpZiAoIWV2dC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdjYXJkJykpIHtcbiAgICAgIGNvbnN0IHRvcEJvcmRlciA9IHdpbmRvdy5zY3JvbGxZICsgaW5wdXRGaWVsZENvb3Jkcy50b3A7XG4gICAgICBjb25zdCBib3R0b21Cb3JkZXIgPSB3aW5kb3cuc2Nyb2xsWSArIGlucHV0RmllbGRDb29yZHMuYm90dG9tO1xuICAgICAgY29uc3QgbGVmdEJvcmRlciA9IHdpbmRvdy5zY3JvbGxYICsgaW5wdXRGaWVsZENvb3Jkcy5sZWZ0O1xuICAgICAgY29uc3QgcmlnaHRCb3JkZXIgPSB3aW5kb3cuc2Nyb2xsWCArIGlucHV0RmllbGRDb29yZHMucmlnaHQ7XG4gICAgICBcbiAgICAgIGlmIChldnQucGFnZVkgPiB0b3BCb3JkZXIgJiYgZXZ0LnBhZ2VZIDwgYm90dG9tQm9yZGVyXG4gICAgICAgICYmIGV2dC5wYWdlWCA+IGxlZnRCb3JkZXIgJiYgZXZ0LnBhZ2VYIDwgcmlnaHRCb3JkZXIpIHtcbiAgICAgICAgICBjb25zdCBjYXJkRWxzID0gQXJyYXkuZnJvbShjb250YWluZXIucXVlcnlTZWxlY3RvckFsbCgnLmNhcmQnKSk7XG4gICAgICAgICAgY29uc3QgbGFzdEVsID0gY2FyZEVscy5maW5kKChpdGVtKSA9PiBpdGVtID09PSBpbnB1dEZpZWxkQ29vcmRzLmxhc3RPdmVyRWwpO1xuICAgICAgICAgIFxuICAgICAgICAgIGlmIChpbnB1dEZpZWxkQ29vcmRzLnBvcyA9PT0gJ3RvcCcpIHtcbiAgICAgICAgICAgIGxhc3RFbC5iZWZvcmUoZHJhZ2dlZEVsKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGlucHV0RmllbGRDb29yZHMucG9zID09PSAnYm90dG9tJykge1xuICAgICAgICAgICAgbGFzdEVsLmFmdGVyKGRyYWdnZWRFbCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGdob3N0RWwpO1xuICAgICAgICBnaG9zdEVsID0gbnVsbDtcbiAgICAgICAgZHJhZ2dlZEVsLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICBDYXJkU3lzLmRyYWdFbGVtU3R5bGVPZmYoY29udGFpbmVyLCBhZGRCdG5zKTtcbiAgICAgICAgQ2FyZFN5cy5mcmVlSW5wdXRGaWVsZE9mZihjb250YWluZXIpO1xuICAgICAgICBzYXZlRGF0YShjb250YWluZXIpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vINCy0YHRgtCw0LLQutCwLCDQutC+0LPQtNCwINC60YPRgNGB0L7RgCDQvdCw0LQg0Y3Qu9C10LzQtdC90YLQvtC8IDwuY2FyZD46XG4gICAgICBjb25zdCB7IHRvcCB9ID0gY2xvc2VzdC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgIGlmIChldnQucGFnZVkgPiB3aW5kb3cuc2Nyb2xsWSArIHRvcCArIGNsb3Nlc3Qub2Zmc2V0SGVpZ2h0IC8gMikge1xuICAgICAgICBjbG9zZXN0LmFmdGVyKGRyYWdnZWRFbCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjbG9zZXN0LmJlZm9yZShkcmFnZ2VkRWwpO1xuICAgICAgfVxuICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChnaG9zdEVsKTtcbiAgICAgIGdob3N0RWwgPSBudWxsO1xuICAgICAgZHJhZ2dlZEVsLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgQ2FyZFN5cy5kcmFnRWxlbVN0eWxlT2ZmKGNvbnRhaW5lciwgYWRkQnRucyk7XG4gICAgICBDYXJkU3lzLmZyZWVJbnB1dEZpZWxkT2ZmKGNvbnRhaW5lcik7XG4gICAgICBzYXZlRGF0YShjb250YWluZXIpO1xuICAgIH0pO1xuICB9XG4gICIsIi8vIFRPRE86IHdyaXRlIGNvZGUgaGVyZVxuaW1wb3J0IENhcmRTeXMgZnJvbSAnLi9jb21wb25lbnQnO1xuXG5jb25zdCBjYXJkc1N5cyA9IG5ldyBDYXJkU3lzKCk7XG4iLCJcInVzZSBzdHJpY3RcIjtcblxuLyogZXNsaW50LWVudiBicm93c2VyICovXG5cbi8qXG4gIGVzbGludC1kaXNhYmxlXG4gIG5vLWNvbnNvbGUsXG4gIGZ1bmMtbmFtZXNcbiovXG52YXIgbm9ybWFsaXplVXJsID0gcmVxdWlyZSgnLi9ub3JtYWxpemUtdXJsJyk7XG5cbnZhciBzcmNCeU1vZHVsZUlkID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbnZhciBub0RvY3VtZW50ID0gdHlwZW9mIGRvY3VtZW50ID09PSAndW5kZWZpbmVkJztcbnZhciBmb3JFYWNoID0gQXJyYXkucHJvdG90eXBlLmZvckVhY2g7XG5cbmZ1bmN0aW9uIGRlYm91bmNlKGZuLCB0aW1lKSB7XG4gIHZhciB0aW1lb3V0ID0gMDtcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBwcmVmZXItcmVzdC1wYXJhbXNcblxuICAgIHZhciBhcmdzID0gYXJndW1lbnRzO1xuXG4gICAgdmFyIGZ1bmN0aW9uQ2FsbCA9IGZ1bmN0aW9uIGZ1bmN0aW9uQ2FsbCgpIHtcbiAgICAgIHJldHVybiBmbi5hcHBseShzZWxmLCBhcmdzKTtcbiAgICB9O1xuXG4gICAgY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xuICAgIHRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uQ2FsbCwgdGltZSk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIG5vb3AoKSB7fVxuXG5mdW5jdGlvbiBnZXRDdXJyZW50U2NyaXB0VXJsKG1vZHVsZUlkKSB7XG4gIHZhciBzcmMgPSBzcmNCeU1vZHVsZUlkW21vZHVsZUlkXTtcblxuICBpZiAoIXNyYykge1xuICAgIGlmIChkb2N1bWVudC5jdXJyZW50U2NyaXB0KSB7XG4gICAgICBzcmMgPSBkb2N1bWVudC5jdXJyZW50U2NyaXB0LnNyYztcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIHNjcmlwdHMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnc2NyaXB0Jyk7XG4gICAgICB2YXIgbGFzdFNjcmlwdFRhZyA9IHNjcmlwdHNbc2NyaXB0cy5sZW5ndGggLSAxXTtcblxuICAgICAgaWYgKGxhc3RTY3JpcHRUYWcpIHtcbiAgICAgICAgc3JjID0gbGFzdFNjcmlwdFRhZy5zcmM7XG4gICAgICB9XG4gICAgfVxuXG4gICAgc3JjQnlNb2R1bGVJZFttb2R1bGVJZF0gPSBzcmM7XG4gIH1cblxuICByZXR1cm4gZnVuY3Rpb24gKGZpbGVNYXApIHtcbiAgICBpZiAoIXNyYykge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgdmFyIHNwbGl0UmVzdWx0ID0gc3JjLnNwbGl0KC8oW15cXFxcL10rKVxcLmpzJC8pO1xuICAgIHZhciBmaWxlbmFtZSA9IHNwbGl0UmVzdWx0ICYmIHNwbGl0UmVzdWx0WzFdO1xuXG4gICAgaWYgKCFmaWxlbmFtZSkge1xuICAgICAgcmV0dXJuIFtzcmMucmVwbGFjZSgnLmpzJywgJy5jc3MnKV07XG4gICAgfVxuXG4gICAgaWYgKCFmaWxlTWFwKSB7XG4gICAgICByZXR1cm4gW3NyYy5yZXBsYWNlKCcuanMnLCAnLmNzcycpXTtcbiAgICB9XG5cbiAgICByZXR1cm4gZmlsZU1hcC5zcGxpdCgnLCcpLm1hcChmdW5jdGlvbiAobWFwUnVsZSkge1xuICAgICAgdmFyIHJlZyA9IG5ldyBSZWdFeHAoXCJcIi5jb25jYXQoZmlsZW5hbWUsIFwiXFxcXC5qcyRcIiksICdnJyk7XG4gICAgICByZXR1cm4gbm9ybWFsaXplVXJsKHNyYy5yZXBsYWNlKHJlZywgXCJcIi5jb25jYXQobWFwUnVsZS5yZXBsYWNlKC97ZmlsZU5hbWV9L2csIGZpbGVuYW1lKSwgXCIuY3NzXCIpKSk7XG4gICAgfSk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZUNzcyhlbCwgdXJsKSB7XG4gIGlmICghdXJsKSB7XG4gICAgaWYgKCFlbC5ocmVmKSB7XG4gICAgICByZXR1cm47XG4gICAgfSAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcblxuXG4gICAgdXJsID0gZWwuaHJlZi5zcGxpdCgnPycpWzBdO1xuICB9XG5cbiAgaWYgKCFpc1VybFJlcXVlc3QodXJsKSkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGlmIChlbC5pc0xvYWRlZCA9PT0gZmFsc2UpIHtcbiAgICAvLyBXZSBzZWVtIHRvIGJlIGFib3V0IHRvIHJlcGxhY2UgYSBjc3MgbGluayB0aGF0IGhhc24ndCBsb2FkZWQgeWV0LlxuICAgIC8vIFdlJ3JlIHByb2JhYmx5IGNoYW5naW5nIHRoZSBzYW1lIGZpbGUgbW9yZSB0aGFuIG9uY2UuXG4gICAgcmV0dXJuO1xuICB9XG5cbiAgaWYgKCF1cmwgfHwgISh1cmwuaW5kZXhPZignLmNzcycpID4gLTEpKSB7XG4gICAgcmV0dXJuO1xuICB9IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuXG5cbiAgZWwudmlzaXRlZCA9IHRydWU7XG4gIHZhciBuZXdFbCA9IGVsLmNsb25lTm9kZSgpO1xuICBuZXdFbC5pc0xvYWRlZCA9IGZhbHNlO1xuICBuZXdFbC5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgZnVuY3Rpb24gKCkge1xuICAgIGlmIChuZXdFbC5pc0xvYWRlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIG5ld0VsLmlzTG9hZGVkID0gdHJ1ZTtcbiAgICBlbC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGVsKTtcbiAgfSk7XG4gIG5ld0VsLmFkZEV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgZnVuY3Rpb24gKCkge1xuICAgIGlmIChuZXdFbC5pc0xvYWRlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIG5ld0VsLmlzTG9hZGVkID0gdHJ1ZTtcbiAgICBlbC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGVsKTtcbiAgfSk7XG4gIG5ld0VsLmhyZWYgPSBcIlwiLmNvbmNhdCh1cmwsIFwiP1wiKS5jb25jYXQoRGF0ZS5ub3coKSk7XG5cbiAgaWYgKGVsLm5leHRTaWJsaW5nKSB7XG4gICAgZWwucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUobmV3RWwsIGVsLm5leHRTaWJsaW5nKTtcbiAgfSBlbHNlIHtcbiAgICBlbC5wYXJlbnROb2RlLmFwcGVuZENoaWxkKG5ld0VsKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBnZXRSZWxvYWRVcmwoaHJlZiwgc3JjKSB7XG4gIHZhciByZXQ7IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuXG4gIGhyZWYgPSBub3JtYWxpemVVcmwoaHJlZiwge1xuICAgIHN0cmlwV1dXOiBmYWxzZVxuICB9KTsgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGFycmF5LWNhbGxiYWNrLXJldHVyblxuXG4gIHNyYy5zb21lKGZ1bmN0aW9uICh1cmwpIHtcbiAgICBpZiAoaHJlZi5pbmRleE9mKHNyYykgPiAtMSkge1xuICAgICAgcmV0ID0gdXJsO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiByZXQ7XG59XG5cbmZ1bmN0aW9uIHJlbG9hZFN0eWxlKHNyYykge1xuICBpZiAoIXNyYykge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHZhciBlbGVtZW50cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2xpbmsnKTtcbiAgdmFyIGxvYWRlZCA9IGZhbHNlO1xuICBmb3JFYWNoLmNhbGwoZWxlbWVudHMsIGZ1bmN0aW9uIChlbCkge1xuICAgIGlmICghZWwuaHJlZikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciB1cmwgPSBnZXRSZWxvYWRVcmwoZWwuaHJlZiwgc3JjKTtcblxuICAgIGlmICghaXNVcmxSZXF1ZXN0KHVybCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoZWwudmlzaXRlZCA9PT0gdHJ1ZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICh1cmwpIHtcbiAgICAgIHVwZGF0ZUNzcyhlbCwgdXJsKTtcbiAgICAgIGxvYWRlZCA9IHRydWU7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIGxvYWRlZDtcbn1cblxuZnVuY3Rpb24gcmVsb2FkQWxsKCkge1xuICB2YXIgZWxlbWVudHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdsaW5rJyk7XG4gIGZvckVhY2guY2FsbChlbGVtZW50cywgZnVuY3Rpb24gKGVsKSB7XG4gICAgaWYgKGVsLnZpc2l0ZWQgPT09IHRydWUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB1cGRhdGVDc3MoZWwpO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gaXNVcmxSZXF1ZXN0KHVybCkge1xuICAvLyBBbiBVUkwgaXMgbm90IGFuIHJlcXVlc3QgaWZcbiAgLy8gSXQgaXMgbm90IGh0dHAgb3IgaHR0cHNcbiAgaWYgKCEvXmh0dHBzPzovaS50ZXN0KHVybCkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAobW9kdWxlSWQsIG9wdGlvbnMpIHtcbiAgaWYgKG5vRG9jdW1lbnQpIHtcbiAgICBjb25zb2xlLmxvZygnbm8gd2luZG93LmRvY3VtZW50IGZvdW5kLCB3aWxsIG5vdCBITVIgQ1NTJyk7XG4gICAgcmV0dXJuIG5vb3A7XG4gIH1cblxuICB2YXIgZ2V0U2NyaXB0U3JjID0gZ2V0Q3VycmVudFNjcmlwdFVybChtb2R1bGVJZCk7XG5cbiAgZnVuY3Rpb24gdXBkYXRlKCkge1xuICAgIHZhciBzcmMgPSBnZXRTY3JpcHRTcmMob3B0aW9ucy5maWxlbmFtZSk7XG4gICAgdmFyIHJlbG9hZGVkID0gcmVsb2FkU3R5bGUoc3JjKTtcblxuICAgIGlmIChvcHRpb25zLmxvY2Fscykge1xuICAgICAgY29uc29sZS5sb2coJ1tITVJdIERldGVjdGVkIGxvY2FsIGNzcyBtb2R1bGVzLiBSZWxvYWQgYWxsIGNzcycpO1xuICAgICAgcmVsb2FkQWxsKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKHJlbG9hZGVkKSB7XG4gICAgICBjb25zb2xlLmxvZygnW0hNUl0gY3NzIHJlbG9hZCAlcycsIHNyYy5qb2luKCcgJykpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zb2xlLmxvZygnW0hNUl0gUmVsb2FkIGFsbCBjc3MnKTtcbiAgICAgIHJlbG9hZEFsbCgpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBkZWJvdW5jZSh1cGRhdGUsIDUwKTtcbn07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qIGVzbGludC1kaXNhYmxlICovXG5mdW5jdGlvbiBub3JtYWxpemVVcmwocGF0aENvbXBvbmVudHMpIHtcbiAgcmV0dXJuIHBhdGhDb21wb25lbnRzLnJlZHVjZShmdW5jdGlvbiAoYWNjdW11bGF0b3IsIGl0ZW0pIHtcbiAgICBzd2l0Y2ggKGl0ZW0pIHtcbiAgICAgIGNhc2UgJy4uJzpcbiAgICAgICAgYWNjdW11bGF0b3IucG9wKCk7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlICcuJzpcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGFjY3VtdWxhdG9yLnB1c2goaXRlbSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGFjY3VtdWxhdG9yO1xuICB9LCBbXSkuam9pbignLycpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uICh1cmxTdHJpbmcpIHtcbiAgdXJsU3RyaW5nID0gdXJsU3RyaW5nLnRyaW0oKTtcblxuICBpZiAoL15kYXRhOi9pLnRlc3QodXJsU3RyaW5nKSkge1xuICAgIHJldHVybiB1cmxTdHJpbmc7XG4gIH1cblxuICB2YXIgcHJvdG9jb2wgPSB1cmxTdHJpbmcuaW5kZXhPZignLy8nKSAhPT0gLTEgPyB1cmxTdHJpbmcuc3BsaXQoJy8vJylbMF0gKyAnLy8nIDogJyc7XG4gIHZhciBjb21wb25lbnRzID0gdXJsU3RyaW5nLnJlcGxhY2UobmV3IFJlZ0V4cChwcm90b2NvbCwgJ2knKSwgJycpLnNwbGl0KCcvJyk7XG4gIHZhciBob3N0ID0gY29tcG9uZW50c1swXS50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoL1xcLiQvLCAnJyk7XG4gIGNvbXBvbmVudHNbMF0gPSAnJztcbiAgdmFyIHBhdGggPSBub3JtYWxpemVVcmwoY29tcG9uZW50cyk7XG4gIHJldHVybiBwcm90b2NvbCArIGhvc3QgKyBwYXRoO1xufTsiLCIvLyBleHRyYWN0ZWQgYnkgbWluaS1jc3MtZXh0cmFjdC1wbHVnaW5cbmV4cG9ydCB7fTtcbiAgICBpZihtb2R1bGUuaG90KSB7XG4gICAgICAvLyAxNjY5NTcxNjU1NDI1XG4gICAgICB2YXIgY3NzUmVsb2FkID0gcmVxdWlyZShcIi9ob21lL2FwcHZleW9yL3Byb2plY3RzL2Foai02LTEvbm9kZV9tb2R1bGVzL21pbmktY3NzLWV4dHJhY3QtcGx1Z2luL2Rpc3QvaG1yL2hvdE1vZHVsZVJlcGxhY2VtZW50LmpzXCIpKG1vZHVsZS5pZCwge1wibG9jYWxzXCI6ZmFsc2V9KTtcbiAgICAgIG1vZHVsZS5ob3QuZGlzcG9zZShjc3NSZWxvYWQpO1xuICAgICAgbW9kdWxlLmhvdC5hY2NlcHQodW5kZWZpbmVkLCBjc3NSZWxvYWQpO1xuICAgIH1cbiAgIiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdGlmIChjYWNoZWRNb2R1bGUuZXJyb3IgIT09IHVuZGVmaW5lZCkgdGhyb3cgY2FjaGVkTW9kdWxlLmVycm9yO1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHRpZDogbW9kdWxlSWQsXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHR0cnkge1xuXHRcdHZhciBleGVjT3B0aW9ucyA9IHsgaWQ6IG1vZHVsZUlkLCBtb2R1bGU6IG1vZHVsZSwgZmFjdG9yeTogX193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0sIHJlcXVpcmU6IF9fd2VicGFja19yZXF1aXJlX18gfTtcblx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmkuZm9yRWFjaChmdW5jdGlvbihoYW5kbGVyKSB7IGhhbmRsZXIoZXhlY09wdGlvbnMpOyB9KTtcblx0XHRtb2R1bGUgPSBleGVjT3B0aW9ucy5tb2R1bGU7XG5cdFx0ZXhlY09wdGlvbnMuZmFjdG9yeS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBleGVjT3B0aW9ucy5yZXF1aXJlKTtcblx0fSBjYXRjaChlKSB7XG5cdFx0bW9kdWxlLmVycm9yID0gZTtcblx0XHR0aHJvdyBlO1xuXHR9XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4vLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuX193ZWJwYWNrX3JlcXVpcmVfXy5tID0gX193ZWJwYWNrX21vZHVsZXNfXztcblxuLy8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbl9fd2VicGFja19yZXF1aXJlX18uYyA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfXztcblxuLy8gZXhwb3NlIHRoZSBtb2R1bGUgZXhlY3V0aW9uIGludGVyY2VwdG9yXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmkgPSBbXTtcblxuIiwiLy8gVGhpcyBmdW5jdGlvbiBhbGxvdyB0byByZWZlcmVuY2UgYWxsIGNodW5rc1xuX193ZWJwYWNrX3JlcXVpcmVfXy5odSA9IChjaHVua0lkKSA9PiB7XG5cdC8vIHJldHVybiB1cmwgZm9yIGZpbGVuYW1lcyBiYXNlZCBvbiB0ZW1wbGF0ZVxuXHRyZXR1cm4gXCJcIiArIGNodW5rSWQgKyBcIi5cIiArIF9fd2VicGFja19yZXF1aXJlX18uaCgpICsgXCIuaG90LXVwZGF0ZS5qc1wiO1xufTsiLCIvLyBUaGlzIGZ1bmN0aW9uIGFsbG93IHRvIHJlZmVyZW5jZSBhbGwgY2h1bmtzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLm1pbmlDc3NGID0gKGNodW5rSWQpID0+IHtcblx0Ly8gcmV0dXJuIHVybCBmb3IgZmlsZW5hbWVzIGJhc2VkIG9uIHRlbXBsYXRlXG5cdHJldHVybiBcIlwiICsgXCJtYWluXCIgKyBcIi5jc3NcIjtcbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5obXJGID0gKCkgPT4gKFwibWFpbi5cIiArIF9fd2VicGFja19yZXF1aXJlX18uaCgpICsgXCIuaG90LXVwZGF0ZS5qc29uXCIpOyIsIl9fd2VicGFja19yZXF1aXJlX18uaCA9ICgpID0+IChcIjU2YzE3YTExNDkzODNmMmJkZGU1XCIpIiwiX193ZWJwYWNrX3JlcXVpcmVfXy5nID0gKGZ1bmN0aW9uKCkge1xuXHRpZiAodHlwZW9mIGdsb2JhbFRoaXMgPT09ICdvYmplY3QnKSByZXR1cm4gZ2xvYmFsVGhpcztcblx0dHJ5IHtcblx0XHRyZXR1cm4gdGhpcyB8fCBuZXcgRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTtcblx0fSBjYXRjaCAoZSkge1xuXHRcdGlmICh0eXBlb2Ygd2luZG93ID09PSAnb2JqZWN0JykgcmV0dXJuIHdpbmRvdztcblx0fVxufSkoKTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpIiwidmFyIGN1cnJlbnRNb2R1bGVEYXRhID0ge307XG52YXIgaW5zdGFsbGVkTW9kdWxlcyA9IF9fd2VicGFja19yZXF1aXJlX18uYztcblxuLy8gbW9kdWxlIGFuZCByZXF1aXJlIGNyZWF0aW9uXG52YXIgY3VycmVudENoaWxkTW9kdWxlO1xudmFyIGN1cnJlbnRQYXJlbnRzID0gW107XG5cbi8vIHN0YXR1c1xudmFyIHJlZ2lzdGVyZWRTdGF0dXNIYW5kbGVycyA9IFtdO1xudmFyIGN1cnJlbnRTdGF0dXMgPSBcImlkbGVcIjtcblxuLy8gd2hpbGUgZG93bmxvYWRpbmdcbnZhciBibG9ja2luZ1Byb21pc2VzID0gMDtcbnZhciBibG9ja2luZ1Byb21pc2VzV2FpdGluZyA9IFtdO1xuXG4vLyBUaGUgdXBkYXRlIGluZm9cbnZhciBjdXJyZW50VXBkYXRlQXBwbHlIYW5kbGVycztcbnZhciBxdWV1ZWRJbnZhbGlkYXRlZE1vZHVsZXM7XG5cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFyc1xuX193ZWJwYWNrX3JlcXVpcmVfXy5obXJEID0gY3VycmVudE1vZHVsZURhdGE7XG5cbl9fd2VicGFja19yZXF1aXJlX18uaS5wdXNoKGZ1bmN0aW9uIChvcHRpb25zKSB7XG5cdHZhciBtb2R1bGUgPSBvcHRpb25zLm1vZHVsZTtcblx0dmFyIHJlcXVpcmUgPSBjcmVhdGVSZXF1aXJlKG9wdGlvbnMucmVxdWlyZSwgb3B0aW9ucy5pZCk7XG5cdG1vZHVsZS5ob3QgPSBjcmVhdGVNb2R1bGVIb3RPYmplY3Qob3B0aW9ucy5pZCwgbW9kdWxlKTtcblx0bW9kdWxlLnBhcmVudHMgPSBjdXJyZW50UGFyZW50cztcblx0bW9kdWxlLmNoaWxkcmVuID0gW107XG5cdGN1cnJlbnRQYXJlbnRzID0gW107XG5cdG9wdGlvbnMucmVxdWlyZSA9IHJlcXVpcmU7XG59KTtcblxuX193ZWJwYWNrX3JlcXVpcmVfXy5obXJDID0ge307XG5fX3dlYnBhY2tfcmVxdWlyZV9fLmhtckkgPSB7fTtcblxuZnVuY3Rpb24gY3JlYXRlUmVxdWlyZShyZXF1aXJlLCBtb2R1bGVJZCkge1xuXHR2YXIgbWUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXTtcblx0aWYgKCFtZSkgcmV0dXJuIHJlcXVpcmU7XG5cdHZhciBmbiA9IGZ1bmN0aW9uIChyZXF1ZXN0KSB7XG5cdFx0aWYgKG1lLmhvdC5hY3RpdmUpIHtcblx0XHRcdGlmIChpbnN0YWxsZWRNb2R1bGVzW3JlcXVlc3RdKSB7XG5cdFx0XHRcdHZhciBwYXJlbnRzID0gaW5zdGFsbGVkTW9kdWxlc1tyZXF1ZXN0XS5wYXJlbnRzO1xuXHRcdFx0XHRpZiAocGFyZW50cy5pbmRleE9mKG1vZHVsZUlkKSA9PT0gLTEpIHtcblx0XHRcdFx0XHRwYXJlbnRzLnB1c2gobW9kdWxlSWQpO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRjdXJyZW50UGFyZW50cyA9IFttb2R1bGVJZF07XG5cdFx0XHRcdGN1cnJlbnRDaGlsZE1vZHVsZSA9IHJlcXVlc3Q7XG5cdFx0XHR9XG5cdFx0XHRpZiAobWUuY2hpbGRyZW4uaW5kZXhPZihyZXF1ZXN0KSA9PT0gLTEpIHtcblx0XHRcdFx0bWUuY2hpbGRyZW4ucHVzaChyZXF1ZXN0KTtcblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0Y29uc29sZS53YXJuKFxuXHRcdFx0XHRcIltITVJdIHVuZXhwZWN0ZWQgcmVxdWlyZShcIiArXG5cdFx0XHRcdFx0cmVxdWVzdCArXG5cdFx0XHRcdFx0XCIpIGZyb20gZGlzcG9zZWQgbW9kdWxlIFwiICtcblx0XHRcdFx0XHRtb2R1bGVJZFxuXHRcdFx0KTtcblx0XHRcdGN1cnJlbnRQYXJlbnRzID0gW107XG5cdFx0fVxuXHRcdHJldHVybiByZXF1aXJlKHJlcXVlc3QpO1xuXHR9O1xuXHR2YXIgY3JlYXRlUHJvcGVydHlEZXNjcmlwdG9yID0gZnVuY3Rpb24gKG5hbWUpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0Y29uZmlndXJhYmxlOiB0cnVlLFxuXHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcblx0XHRcdGdldDogZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRyZXR1cm4gcmVxdWlyZVtuYW1lXTtcblx0XHRcdH0sXG5cdFx0XHRzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuXHRcdFx0XHRyZXF1aXJlW25hbWVdID0gdmFsdWU7XG5cdFx0XHR9XG5cdFx0fTtcblx0fTtcblx0Zm9yICh2YXIgbmFtZSBpbiByZXF1aXJlKSB7XG5cdFx0aWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChyZXF1aXJlLCBuYW1lKSAmJiBuYW1lICE9PSBcImVcIikge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGZuLCBuYW1lLCBjcmVhdGVQcm9wZXJ0eURlc2NyaXB0b3IobmFtZSkpO1xuXHRcdH1cblx0fVxuXHRmbi5lID0gZnVuY3Rpb24gKGNodW5rSWQpIHtcblx0XHRyZXR1cm4gdHJhY2tCbG9ja2luZ1Byb21pc2UocmVxdWlyZS5lKGNodW5rSWQpKTtcblx0fTtcblx0cmV0dXJuIGZuO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVNb2R1bGVIb3RPYmplY3QobW9kdWxlSWQsIG1lKSB7XG5cdHZhciBfbWFpbiA9IGN1cnJlbnRDaGlsZE1vZHVsZSAhPT0gbW9kdWxlSWQ7XG5cdHZhciBob3QgPSB7XG5cdFx0Ly8gcHJpdmF0ZSBzdHVmZlxuXHRcdF9hY2NlcHRlZERlcGVuZGVuY2llczoge30sXG5cdFx0X2FjY2VwdGVkRXJyb3JIYW5kbGVyczoge30sXG5cdFx0X2RlY2xpbmVkRGVwZW5kZW5jaWVzOiB7fSxcblx0XHRfc2VsZkFjY2VwdGVkOiBmYWxzZSxcblx0XHRfc2VsZkRlY2xpbmVkOiBmYWxzZSxcblx0XHRfc2VsZkludmFsaWRhdGVkOiBmYWxzZSxcblx0XHRfZGlzcG9zZUhhbmRsZXJzOiBbXSxcblx0XHRfbWFpbjogX21haW4sXG5cdFx0X3JlcXVpcmVTZWxmOiBmdW5jdGlvbiAoKSB7XG5cdFx0XHRjdXJyZW50UGFyZW50cyA9IG1lLnBhcmVudHMuc2xpY2UoKTtcblx0XHRcdGN1cnJlbnRDaGlsZE1vZHVsZSA9IF9tYWluID8gdW5kZWZpbmVkIDogbW9kdWxlSWQ7XG5cdFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKTtcblx0XHR9LFxuXG5cdFx0Ly8gTW9kdWxlIEFQSVxuXHRcdGFjdGl2ZTogdHJ1ZSxcblx0XHRhY2NlcHQ6IGZ1bmN0aW9uIChkZXAsIGNhbGxiYWNrLCBlcnJvckhhbmRsZXIpIHtcblx0XHRcdGlmIChkZXAgPT09IHVuZGVmaW5lZCkgaG90Ll9zZWxmQWNjZXB0ZWQgPSB0cnVlO1xuXHRcdFx0ZWxzZSBpZiAodHlwZW9mIGRlcCA9PT0gXCJmdW5jdGlvblwiKSBob3QuX3NlbGZBY2NlcHRlZCA9IGRlcDtcblx0XHRcdGVsc2UgaWYgKHR5cGVvZiBkZXAgPT09IFwib2JqZWN0XCIgJiYgZGVwICE9PSBudWxsKSB7XG5cdFx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgZGVwLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRcdFx0aG90Ll9hY2NlcHRlZERlcGVuZGVuY2llc1tkZXBbaV1dID0gY2FsbGJhY2sgfHwgZnVuY3Rpb24gKCkge307XG5cdFx0XHRcdFx0aG90Ll9hY2NlcHRlZEVycm9ySGFuZGxlcnNbZGVwW2ldXSA9IGVycm9ySGFuZGxlcjtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0aG90Ll9hY2NlcHRlZERlcGVuZGVuY2llc1tkZXBdID0gY2FsbGJhY2sgfHwgZnVuY3Rpb24gKCkge307XG5cdFx0XHRcdGhvdC5fYWNjZXB0ZWRFcnJvckhhbmRsZXJzW2RlcF0gPSBlcnJvckhhbmRsZXI7XG5cdFx0XHR9XG5cdFx0fSxcblx0XHRkZWNsaW5lOiBmdW5jdGlvbiAoZGVwKSB7XG5cdFx0XHRpZiAoZGVwID09PSB1bmRlZmluZWQpIGhvdC5fc2VsZkRlY2xpbmVkID0gdHJ1ZTtcblx0XHRcdGVsc2UgaWYgKHR5cGVvZiBkZXAgPT09IFwib2JqZWN0XCIgJiYgZGVwICE9PSBudWxsKVxuXHRcdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IGRlcC5sZW5ndGg7IGkrKylcblx0XHRcdFx0XHRob3QuX2RlY2xpbmVkRGVwZW5kZW5jaWVzW2RlcFtpXV0gPSB0cnVlO1xuXHRcdFx0ZWxzZSBob3QuX2RlY2xpbmVkRGVwZW5kZW5jaWVzW2RlcF0gPSB0cnVlO1xuXHRcdH0sXG5cdFx0ZGlzcG9zZTogZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG5cdFx0XHRob3QuX2Rpc3Bvc2VIYW5kbGVycy5wdXNoKGNhbGxiYWNrKTtcblx0XHR9LFxuXHRcdGFkZERpc3Bvc2VIYW5kbGVyOiBmdW5jdGlvbiAoY2FsbGJhY2spIHtcblx0XHRcdGhvdC5fZGlzcG9zZUhhbmRsZXJzLnB1c2goY2FsbGJhY2spO1xuXHRcdH0sXG5cdFx0cmVtb3ZlRGlzcG9zZUhhbmRsZXI6IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuXHRcdFx0dmFyIGlkeCA9IGhvdC5fZGlzcG9zZUhhbmRsZXJzLmluZGV4T2YoY2FsbGJhY2spO1xuXHRcdFx0aWYgKGlkeCA+PSAwKSBob3QuX2Rpc3Bvc2VIYW5kbGVycy5zcGxpY2UoaWR4LCAxKTtcblx0XHR9LFxuXHRcdGludmFsaWRhdGU6IGZ1bmN0aW9uICgpIHtcblx0XHRcdHRoaXMuX3NlbGZJbnZhbGlkYXRlZCA9IHRydWU7XG5cdFx0XHRzd2l0Y2ggKGN1cnJlbnRTdGF0dXMpIHtcblx0XHRcdFx0Y2FzZSBcImlkbGVcIjpcblx0XHRcdFx0XHRjdXJyZW50VXBkYXRlQXBwbHlIYW5kbGVycyA9IFtdO1xuXHRcdFx0XHRcdE9iamVjdC5rZXlzKF9fd2VicGFja19yZXF1aXJlX18uaG1ySSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG5cdFx0XHRcdFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmhtcklba2V5XShcblx0XHRcdFx0XHRcdFx0bW9kdWxlSWQsXG5cdFx0XHRcdFx0XHRcdGN1cnJlbnRVcGRhdGVBcHBseUhhbmRsZXJzXG5cdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdHNldFN0YXR1cyhcInJlYWR5XCIpO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRjYXNlIFwicmVhZHlcIjpcblx0XHRcdFx0XHRPYmplY3Qua2V5cyhfX3dlYnBhY2tfcmVxdWlyZV9fLmhtckkpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuXHRcdFx0XHRcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5obXJJW2tleV0oXG5cdFx0XHRcdFx0XHRcdG1vZHVsZUlkLFxuXHRcdFx0XHRcdFx0XHRjdXJyZW50VXBkYXRlQXBwbHlIYW5kbGVyc1xuXHRcdFx0XHRcdFx0KTtcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0Y2FzZSBcInByZXBhcmVcIjpcblx0XHRcdFx0Y2FzZSBcImNoZWNrXCI6XG5cdFx0XHRcdGNhc2UgXCJkaXNwb3NlXCI6XG5cdFx0XHRcdGNhc2UgXCJhcHBseVwiOlxuXHRcdFx0XHRcdChxdWV1ZWRJbnZhbGlkYXRlZE1vZHVsZXMgPSBxdWV1ZWRJbnZhbGlkYXRlZE1vZHVsZXMgfHwgW10pLnB1c2goXG5cdFx0XHRcdFx0XHRtb2R1bGVJZFxuXHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdGRlZmF1bHQ6XG5cdFx0XHRcdFx0Ly8gaWdub3JlIHJlcXVlc3RzIGluIGVycm9yIHN0YXRlc1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0fVxuXHRcdH0sXG5cblx0XHQvLyBNYW5hZ2VtZW50IEFQSVxuXHRcdGNoZWNrOiBob3RDaGVjayxcblx0XHRhcHBseTogaG90QXBwbHksXG5cdFx0c3RhdHVzOiBmdW5jdGlvbiAobCkge1xuXHRcdFx0aWYgKCFsKSByZXR1cm4gY3VycmVudFN0YXR1cztcblx0XHRcdHJlZ2lzdGVyZWRTdGF0dXNIYW5kbGVycy5wdXNoKGwpO1xuXHRcdH0sXG5cdFx0YWRkU3RhdHVzSGFuZGxlcjogZnVuY3Rpb24gKGwpIHtcblx0XHRcdHJlZ2lzdGVyZWRTdGF0dXNIYW5kbGVycy5wdXNoKGwpO1xuXHRcdH0sXG5cdFx0cmVtb3ZlU3RhdHVzSGFuZGxlcjogZnVuY3Rpb24gKGwpIHtcblx0XHRcdHZhciBpZHggPSByZWdpc3RlcmVkU3RhdHVzSGFuZGxlcnMuaW5kZXhPZihsKTtcblx0XHRcdGlmIChpZHggPj0gMCkgcmVnaXN0ZXJlZFN0YXR1c0hhbmRsZXJzLnNwbGljZShpZHgsIDEpO1xuXHRcdH0sXG5cblx0XHQvL2luaGVyaXQgZnJvbSBwcmV2aW91cyBkaXNwb3NlIGNhbGxcblx0XHRkYXRhOiBjdXJyZW50TW9kdWxlRGF0YVttb2R1bGVJZF1cblx0fTtcblx0Y3VycmVudENoaWxkTW9kdWxlID0gdW5kZWZpbmVkO1xuXHRyZXR1cm4gaG90O1xufVxuXG5mdW5jdGlvbiBzZXRTdGF0dXMobmV3U3RhdHVzKSB7XG5cdGN1cnJlbnRTdGF0dXMgPSBuZXdTdGF0dXM7XG5cdHZhciByZXN1bHRzID0gW107XG5cblx0Zm9yICh2YXIgaSA9IDA7IGkgPCByZWdpc3RlcmVkU3RhdHVzSGFuZGxlcnMubGVuZ3RoOyBpKyspXG5cdFx0cmVzdWx0c1tpXSA9IHJlZ2lzdGVyZWRTdGF0dXNIYW5kbGVyc1tpXS5jYWxsKG51bGwsIG5ld1N0YXR1cyk7XG5cblx0cmV0dXJuIFByb21pc2UuYWxsKHJlc3VsdHMpO1xufVxuXG5mdW5jdGlvbiB1bmJsb2NrKCkge1xuXHRpZiAoLS1ibG9ja2luZ1Byb21pc2VzID09PSAwKSB7XG5cdFx0c2V0U3RhdHVzKFwicmVhZHlcIikudGhlbihmdW5jdGlvbiAoKSB7XG5cdFx0XHRpZiAoYmxvY2tpbmdQcm9taXNlcyA9PT0gMCkge1xuXHRcdFx0XHR2YXIgbGlzdCA9IGJsb2NraW5nUHJvbWlzZXNXYWl0aW5nO1xuXHRcdFx0XHRibG9ja2luZ1Byb21pc2VzV2FpdGluZyA9IFtdO1xuXHRcdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0XHRsaXN0W2ldKCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9KTtcblx0fVxufVxuXG5mdW5jdGlvbiB0cmFja0Jsb2NraW5nUHJvbWlzZShwcm9taXNlKSB7XG5cdHN3aXRjaCAoY3VycmVudFN0YXR1cykge1xuXHRcdGNhc2UgXCJyZWFkeVwiOlxuXHRcdFx0c2V0U3RhdHVzKFwicHJlcGFyZVwiKTtcblx0XHQvKiBmYWxsdGhyb3VnaCAqL1xuXHRcdGNhc2UgXCJwcmVwYXJlXCI6XG5cdFx0XHRibG9ja2luZ1Byb21pc2VzKys7XG5cdFx0XHRwcm9taXNlLnRoZW4odW5ibG9jaywgdW5ibG9jayk7XG5cdFx0XHRyZXR1cm4gcHJvbWlzZTtcblx0XHRkZWZhdWx0OlxuXHRcdFx0cmV0dXJuIHByb21pc2U7XG5cdH1cbn1cblxuZnVuY3Rpb24gd2FpdEZvckJsb2NraW5nUHJvbWlzZXMoZm4pIHtcblx0aWYgKGJsb2NraW5nUHJvbWlzZXMgPT09IDApIHJldHVybiBmbigpO1xuXHRyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHtcblx0XHRibG9ja2luZ1Byb21pc2VzV2FpdGluZy5wdXNoKGZ1bmN0aW9uICgpIHtcblx0XHRcdHJlc29sdmUoZm4oKSk7XG5cdFx0fSk7XG5cdH0pO1xufVxuXG5mdW5jdGlvbiBob3RDaGVjayhhcHBseU9uVXBkYXRlKSB7XG5cdGlmIChjdXJyZW50U3RhdHVzICE9PSBcImlkbGVcIikge1xuXHRcdHRocm93IG5ldyBFcnJvcihcImNoZWNrKCkgaXMgb25seSBhbGxvd2VkIGluIGlkbGUgc3RhdHVzXCIpO1xuXHR9XG5cdHJldHVybiBzZXRTdGF0dXMoXCJjaGVja1wiKVxuXHRcdC50aGVuKF9fd2VicGFja19yZXF1aXJlX18uaG1yTSlcblx0XHQudGhlbihmdW5jdGlvbiAodXBkYXRlKSB7XG5cdFx0XHRpZiAoIXVwZGF0ZSkge1xuXHRcdFx0XHRyZXR1cm4gc2V0U3RhdHVzKGFwcGx5SW52YWxpZGF0ZWRNb2R1bGVzKCkgPyBcInJlYWR5XCIgOiBcImlkbGVcIikudGhlbihcblx0XHRcdFx0XHRmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gbnVsbDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdCk7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBzZXRTdGF0dXMoXCJwcmVwYXJlXCIpLnRoZW4oZnVuY3Rpb24gKCkge1xuXHRcdFx0XHR2YXIgdXBkYXRlZE1vZHVsZXMgPSBbXTtcblx0XHRcdFx0Y3VycmVudFVwZGF0ZUFwcGx5SGFuZGxlcnMgPSBbXTtcblxuXHRcdFx0XHRyZXR1cm4gUHJvbWlzZS5hbGwoXG5cdFx0XHRcdFx0T2JqZWN0LmtleXMoX193ZWJwYWNrX3JlcXVpcmVfXy5obXJDKS5yZWR1Y2UoZnVuY3Rpb24gKFxuXHRcdFx0XHRcdFx0cHJvbWlzZXMsXG5cdFx0XHRcdFx0XHRrZXlcblx0XHRcdFx0XHQpIHtcblx0XHRcdFx0XHRcdF9fd2VicGFja19yZXF1aXJlX18uaG1yQ1trZXldKFxuXHRcdFx0XHRcdFx0XHR1cGRhdGUuYyxcblx0XHRcdFx0XHRcdFx0dXBkYXRlLnIsXG5cdFx0XHRcdFx0XHRcdHVwZGF0ZS5tLFxuXHRcdFx0XHRcdFx0XHRwcm9taXNlcyxcblx0XHRcdFx0XHRcdFx0Y3VycmVudFVwZGF0ZUFwcGx5SGFuZGxlcnMsXG5cdFx0XHRcdFx0XHRcdHVwZGF0ZWRNb2R1bGVzXG5cdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdFx0cmV0dXJuIHByb21pc2VzO1xuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0W10pXG5cdFx0XHRcdCkudGhlbihmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdFx0cmV0dXJuIHdhaXRGb3JCbG9ja2luZ1Byb21pc2VzKGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0XHRcdGlmIChhcHBseU9uVXBkYXRlKSB7XG5cdFx0XHRcdFx0XHRcdHJldHVybiBpbnRlcm5hbEFwcGx5KGFwcGx5T25VcGRhdGUpO1xuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0cmV0dXJuIHNldFN0YXR1cyhcInJlYWR5XCIpLnRoZW4oZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRcdFx0XHRcdHJldHVybiB1cGRhdGVkTW9kdWxlcztcblx0XHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdH0pO1xuXHRcdFx0fSk7XG5cdFx0fSk7XG59XG5cbmZ1bmN0aW9uIGhvdEFwcGx5KG9wdGlvbnMpIHtcblx0aWYgKGN1cnJlbnRTdGF0dXMgIT09IFwicmVhZHlcIikge1xuXHRcdHJldHVybiBQcm9taXNlLnJlc29sdmUoKS50aGVuKGZ1bmN0aW9uICgpIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcihcblx0XHRcdFx0XCJhcHBseSgpIGlzIG9ubHkgYWxsb3dlZCBpbiByZWFkeSBzdGF0dXMgKHN0YXRlOiBcIiArXG5cdFx0XHRcdFx0Y3VycmVudFN0YXR1cyArXG5cdFx0XHRcdFx0XCIpXCJcblx0XHRcdCk7XG5cdFx0fSk7XG5cdH1cblx0cmV0dXJuIGludGVybmFsQXBwbHkob3B0aW9ucyk7XG59XG5cbmZ1bmN0aW9uIGludGVybmFsQXBwbHkob3B0aW9ucykge1xuXHRvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuXHRhcHBseUludmFsaWRhdGVkTW9kdWxlcygpO1xuXG5cdHZhciByZXN1bHRzID0gY3VycmVudFVwZGF0ZUFwcGx5SGFuZGxlcnMubWFwKGZ1bmN0aW9uIChoYW5kbGVyKSB7XG5cdFx0cmV0dXJuIGhhbmRsZXIob3B0aW9ucyk7XG5cdH0pO1xuXHRjdXJyZW50VXBkYXRlQXBwbHlIYW5kbGVycyA9IHVuZGVmaW5lZDtcblxuXHR2YXIgZXJyb3JzID0gcmVzdWx0c1xuXHRcdC5tYXAoZnVuY3Rpb24gKHIpIHtcblx0XHRcdHJldHVybiByLmVycm9yO1xuXHRcdH0pXG5cdFx0LmZpbHRlcihCb29sZWFuKTtcblxuXHRpZiAoZXJyb3JzLmxlbmd0aCA+IDApIHtcblx0XHRyZXR1cm4gc2V0U3RhdHVzKFwiYWJvcnRcIikudGhlbihmdW5jdGlvbiAoKSB7XG5cdFx0XHR0aHJvdyBlcnJvcnNbMF07XG5cdFx0fSk7XG5cdH1cblxuXHQvLyBOb3cgaW4gXCJkaXNwb3NlXCIgcGhhc2Vcblx0dmFyIGRpc3Bvc2VQcm9taXNlID0gc2V0U3RhdHVzKFwiZGlzcG9zZVwiKTtcblxuXHRyZXN1bHRzLmZvckVhY2goZnVuY3Rpb24gKHJlc3VsdCkge1xuXHRcdGlmIChyZXN1bHQuZGlzcG9zZSkgcmVzdWx0LmRpc3Bvc2UoKTtcblx0fSk7XG5cblx0Ly8gTm93IGluIFwiYXBwbHlcIiBwaGFzZVxuXHR2YXIgYXBwbHlQcm9taXNlID0gc2V0U3RhdHVzKFwiYXBwbHlcIik7XG5cblx0dmFyIGVycm9yO1xuXHR2YXIgcmVwb3J0RXJyb3IgPSBmdW5jdGlvbiAoZXJyKSB7XG5cdFx0aWYgKCFlcnJvcikgZXJyb3IgPSBlcnI7XG5cdH07XG5cblx0dmFyIG91dGRhdGVkTW9kdWxlcyA9IFtdO1xuXHRyZXN1bHRzLmZvckVhY2goZnVuY3Rpb24gKHJlc3VsdCkge1xuXHRcdGlmIChyZXN1bHQuYXBwbHkpIHtcblx0XHRcdHZhciBtb2R1bGVzID0gcmVzdWx0LmFwcGx5KHJlcG9ydEVycm9yKTtcblx0XHRcdGlmIChtb2R1bGVzKSB7XG5cdFx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgbW9kdWxlcy5sZW5ndGg7IGkrKykge1xuXHRcdFx0XHRcdG91dGRhdGVkTW9kdWxlcy5wdXNoKG1vZHVsZXNbaV0pO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9KTtcblxuXHRyZXR1cm4gUHJvbWlzZS5hbGwoW2Rpc3Bvc2VQcm9taXNlLCBhcHBseVByb21pc2VdKS50aGVuKGZ1bmN0aW9uICgpIHtcblx0XHQvLyBoYW5kbGUgZXJyb3JzIGluIGFjY2VwdCBoYW5kbGVycyBhbmQgc2VsZiBhY2NlcHRlZCBtb2R1bGUgbG9hZFxuXHRcdGlmIChlcnJvcikge1xuXHRcdFx0cmV0dXJuIHNldFN0YXR1cyhcImZhaWxcIikudGhlbihmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdHRocm93IGVycm9yO1xuXHRcdFx0fSk7XG5cdFx0fVxuXG5cdFx0aWYgKHF1ZXVlZEludmFsaWRhdGVkTW9kdWxlcykge1xuXHRcdFx0cmV0dXJuIGludGVybmFsQXBwbHkob3B0aW9ucykudGhlbihmdW5jdGlvbiAobGlzdCkge1xuXHRcdFx0XHRvdXRkYXRlZE1vZHVsZXMuZm9yRWFjaChmdW5jdGlvbiAobW9kdWxlSWQpIHtcblx0XHRcdFx0XHRpZiAobGlzdC5pbmRleE9mKG1vZHVsZUlkKSA8IDApIGxpc3QucHVzaChtb2R1bGVJZCk7XG5cdFx0XHRcdH0pO1xuXHRcdFx0XHRyZXR1cm4gbGlzdDtcblx0XHRcdH0pO1xuXHRcdH1cblxuXHRcdHJldHVybiBzZXRTdGF0dXMoXCJpZGxlXCIpLnRoZW4oZnVuY3Rpb24gKCkge1xuXHRcdFx0cmV0dXJuIG91dGRhdGVkTW9kdWxlcztcblx0XHR9KTtcblx0fSk7XG59XG5cbmZ1bmN0aW9uIGFwcGx5SW52YWxpZGF0ZWRNb2R1bGVzKCkge1xuXHRpZiAocXVldWVkSW52YWxpZGF0ZWRNb2R1bGVzKSB7XG5cdFx0aWYgKCFjdXJyZW50VXBkYXRlQXBwbHlIYW5kbGVycykgY3VycmVudFVwZGF0ZUFwcGx5SGFuZGxlcnMgPSBbXTtcblx0XHRPYmplY3Qua2V5cyhfX3dlYnBhY2tfcmVxdWlyZV9fLmhtckkpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuXHRcdFx0cXVldWVkSW52YWxpZGF0ZWRNb2R1bGVzLmZvckVhY2goZnVuY3Rpb24gKG1vZHVsZUlkKSB7XG5cdFx0XHRcdF9fd2VicGFja19yZXF1aXJlX18uaG1ySVtrZXldKFxuXHRcdFx0XHRcdG1vZHVsZUlkLFxuXHRcdFx0XHRcdGN1cnJlbnRVcGRhdGVBcHBseUhhbmRsZXJzXG5cdFx0XHRcdCk7XG5cdFx0XHR9KTtcblx0XHR9KTtcblx0XHRxdWV1ZWRJbnZhbGlkYXRlZE1vZHVsZXMgPSB1bmRlZmluZWQ7XG5cdFx0cmV0dXJuIHRydWU7XG5cdH1cbn0iLCJ2YXIgc2NyaXB0VXJsO1xuaWYgKF9fd2VicGFja19yZXF1aXJlX18uZy5pbXBvcnRTY3JpcHRzKSBzY3JpcHRVcmwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLmcubG9jYXRpb24gKyBcIlwiO1xudmFyIGRvY3VtZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXy5nLmRvY3VtZW50O1xuaWYgKCFzY3JpcHRVcmwgJiYgZG9jdW1lbnQpIHtcblx0aWYgKGRvY3VtZW50LmN1cnJlbnRTY3JpcHQpXG5cdFx0c2NyaXB0VXJsID0gZG9jdW1lbnQuY3VycmVudFNjcmlwdC5zcmNcblx0aWYgKCFzY3JpcHRVcmwpIHtcblx0XHR2YXIgc2NyaXB0cyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwic2NyaXB0XCIpO1xuXHRcdGlmKHNjcmlwdHMubGVuZ3RoKSBzY3JpcHRVcmwgPSBzY3JpcHRzW3NjcmlwdHMubGVuZ3RoIC0gMV0uc3JjXG5cdH1cbn1cbi8vIFdoZW4gc3VwcG9ydGluZyBicm93c2VycyB3aGVyZSBhbiBhdXRvbWF0aWMgcHVibGljUGF0aCBpcyBub3Qgc3VwcG9ydGVkIHlvdSBtdXN0IHNwZWNpZnkgYW4gb3V0cHV0LnB1YmxpY1BhdGggbWFudWFsbHkgdmlhIGNvbmZpZ3VyYXRpb25cbi8vIG9yIHBhc3MgYW4gZW1wdHkgc3RyaW5nIChcIlwiKSBhbmQgc2V0IHRoZSBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyB2YXJpYWJsZSBmcm9tIHlvdXIgY29kZSB0byB1c2UgeW91ciBvd24gbG9naWMuXG5pZiAoIXNjcmlwdFVybCkgdGhyb3cgbmV3IEVycm9yKFwiQXV0b21hdGljIHB1YmxpY1BhdGggaXMgbm90IHN1cHBvcnRlZCBpbiB0aGlzIGJyb3dzZXJcIik7XG5zY3JpcHRVcmwgPSBzY3JpcHRVcmwucmVwbGFjZSgvIy4qJC8sIFwiXCIpLnJlcGxhY2UoL1xcPy4qJC8sIFwiXCIpLnJlcGxhY2UoL1xcL1teXFwvXSskLywgXCIvXCIpO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5wID0gc2NyaXB0VXJsOyIsIi8vIG5vIGJhc2VVUklcblxuLy8gb2JqZWN0IHRvIHN0b3JlIGxvYWRlZCBhbmQgbG9hZGluZyBjaHVua3Ncbi8vIHVuZGVmaW5lZCA9IGNodW5rIG5vdCBsb2FkZWQsIG51bGwgPSBjaHVuayBwcmVsb2FkZWQvcHJlZmV0Y2hlZFxuLy8gW3Jlc29sdmUsIHJlamVjdCwgUHJvbWlzZV0gPSBjaHVuayBsb2FkaW5nLCAwID0gY2h1bmsgbG9hZGVkXG52YXIgaW5zdGFsbGVkQ2h1bmtzID0gX193ZWJwYWNrX3JlcXVpcmVfXy5obXJTX2pzb25wID0gX193ZWJwYWNrX3JlcXVpcmVfXy5obXJTX2pzb25wIHx8IHtcblx0MTc5OiAwXG59O1xuXG4vLyBubyBjaHVuayBvbiBkZW1hbmQgbG9hZGluZ1xuXG4vLyBubyBwcmVmZXRjaGluZ1xuXG4vLyBubyBwcmVsb2FkZWRcblxudmFyIGN1cnJlbnRVcGRhdGVkTW9kdWxlc0xpc3Q7XG52YXIgd2FpdGluZ1VwZGF0ZVJlc29sdmVzID0ge307XG5mdW5jdGlvbiBsb2FkVXBkYXRlQ2h1bmsoY2h1bmtJZCwgdXBkYXRlZE1vZHVsZXNMaXN0KSB7XG5cdGN1cnJlbnRVcGRhdGVkTW9kdWxlc0xpc3QgPSB1cGRhdGVkTW9kdWxlc0xpc3Q7XG5cdHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG5cdFx0d2FpdGluZ1VwZGF0ZVJlc29sdmVzW2NodW5rSWRdID0gcmVzb2x2ZTtcblx0XHQvLyBzdGFydCB1cGRhdGUgY2h1bmsgbG9hZGluZ1xuXHRcdHZhciB1cmwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLnAgKyBfX3dlYnBhY2tfcmVxdWlyZV9fLmh1KGNodW5rSWQpO1xuXHRcdC8vIGNyZWF0ZSBlcnJvciBiZWZvcmUgc3RhY2sgdW53b3VuZCB0byBnZXQgdXNlZnVsIHN0YWNrdHJhY2UgbGF0ZXJcblx0XHR2YXIgZXJyb3IgPSBuZXcgRXJyb3IoKTtcblx0XHR2YXIgbG9hZGluZ0VuZGVkID0gKGV2ZW50KSA9PiB7XG5cdFx0XHRpZih3YWl0aW5nVXBkYXRlUmVzb2x2ZXNbY2h1bmtJZF0pIHtcblx0XHRcdFx0d2FpdGluZ1VwZGF0ZVJlc29sdmVzW2NodW5rSWRdID0gdW5kZWZpbmVkXG5cdFx0XHRcdHZhciBlcnJvclR5cGUgPSBldmVudCAmJiAoZXZlbnQudHlwZSA9PT0gJ2xvYWQnID8gJ21pc3NpbmcnIDogZXZlbnQudHlwZSk7XG5cdFx0XHRcdHZhciByZWFsU3JjID0gZXZlbnQgJiYgZXZlbnQudGFyZ2V0ICYmIGV2ZW50LnRhcmdldC5zcmM7XG5cdFx0XHRcdGVycm9yLm1lc3NhZ2UgPSAnTG9hZGluZyBob3QgdXBkYXRlIGNodW5rICcgKyBjaHVua0lkICsgJyBmYWlsZWQuXFxuKCcgKyBlcnJvclR5cGUgKyAnOiAnICsgcmVhbFNyYyArICcpJztcblx0XHRcdFx0ZXJyb3IubmFtZSA9ICdDaHVua0xvYWRFcnJvcic7XG5cdFx0XHRcdGVycm9yLnR5cGUgPSBlcnJvclR5cGU7XG5cdFx0XHRcdGVycm9yLnJlcXVlc3QgPSByZWFsU3JjO1xuXHRcdFx0XHRyZWplY3QoZXJyb3IpO1xuXHRcdFx0fVxuXHRcdH07XG5cdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5sKHVybCwgbG9hZGluZ0VuZGVkKTtcblx0fSk7XG59XG5cbnNlbGZbXCJ3ZWJwYWNrSG90VXBkYXRlYWpzXCJdID0gKGNodW5rSWQsIG1vcmVNb2R1bGVzLCBydW50aW1lKSA9PiB7XG5cdGZvcih2YXIgbW9kdWxlSWQgaW4gbW9yZU1vZHVsZXMpIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8obW9yZU1vZHVsZXMsIG1vZHVsZUlkKSkge1xuXHRcdFx0Y3VycmVudFVwZGF0ZVttb2R1bGVJZF0gPSBtb3JlTW9kdWxlc1ttb2R1bGVJZF07XG5cdFx0XHRpZihjdXJyZW50VXBkYXRlZE1vZHVsZXNMaXN0KSBjdXJyZW50VXBkYXRlZE1vZHVsZXNMaXN0LnB1c2gobW9kdWxlSWQpO1xuXHRcdH1cblx0fVxuXHRpZihydW50aW1lKSBjdXJyZW50VXBkYXRlUnVudGltZS5wdXNoKHJ1bnRpbWUpO1xuXHRpZih3YWl0aW5nVXBkYXRlUmVzb2x2ZXNbY2h1bmtJZF0pIHtcblx0XHR3YWl0aW5nVXBkYXRlUmVzb2x2ZXNbY2h1bmtJZF0oKTtcblx0XHR3YWl0aW5nVXBkYXRlUmVzb2x2ZXNbY2h1bmtJZF0gPSB1bmRlZmluZWQ7XG5cdH1cbn07XG5cbnZhciBjdXJyZW50VXBkYXRlQ2h1bmtzO1xudmFyIGN1cnJlbnRVcGRhdGU7XG52YXIgY3VycmVudFVwZGF0ZVJlbW92ZWRDaHVua3M7XG52YXIgY3VycmVudFVwZGF0ZVJ1bnRpbWU7XG5mdW5jdGlvbiBhcHBseUhhbmRsZXIob3B0aW9ucykge1xuXHRpZiAoX193ZWJwYWNrX3JlcXVpcmVfXy5mKSBkZWxldGUgX193ZWJwYWNrX3JlcXVpcmVfXy5mLmpzb25wSG1yO1xuXHRjdXJyZW50VXBkYXRlQ2h1bmtzID0gdW5kZWZpbmVkO1xuXHRmdW5jdGlvbiBnZXRBZmZlY3RlZE1vZHVsZUVmZmVjdHModXBkYXRlTW9kdWxlSWQpIHtcblx0XHR2YXIgb3V0ZGF0ZWRNb2R1bGVzID0gW3VwZGF0ZU1vZHVsZUlkXTtcblx0XHR2YXIgb3V0ZGF0ZWREZXBlbmRlbmNpZXMgPSB7fTtcblxuXHRcdHZhciBxdWV1ZSA9IG91dGRhdGVkTW9kdWxlcy5tYXAoZnVuY3Rpb24gKGlkKSB7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRjaGFpbjogW2lkXSxcblx0XHRcdFx0aWQ6IGlkXG5cdFx0XHR9O1xuXHRcdH0pO1xuXHRcdHdoaWxlIChxdWV1ZS5sZW5ndGggPiAwKSB7XG5cdFx0XHR2YXIgcXVldWVJdGVtID0gcXVldWUucG9wKCk7XG5cdFx0XHR2YXIgbW9kdWxlSWQgPSBxdWV1ZUl0ZW0uaWQ7XG5cdFx0XHR2YXIgY2hhaW4gPSBxdWV1ZUl0ZW0uY2hhaW47XG5cdFx0XHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX3JlcXVpcmVfXy5jW21vZHVsZUlkXTtcblx0XHRcdGlmIChcblx0XHRcdFx0IW1vZHVsZSB8fFxuXHRcdFx0XHQobW9kdWxlLmhvdC5fc2VsZkFjY2VwdGVkICYmICFtb2R1bGUuaG90Ll9zZWxmSW52YWxpZGF0ZWQpXG5cdFx0XHQpXG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0aWYgKG1vZHVsZS5ob3QuX3NlbGZEZWNsaW5lZCkge1xuXHRcdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRcdHR5cGU6IFwic2VsZi1kZWNsaW5lZFwiLFxuXHRcdFx0XHRcdGNoYWluOiBjaGFpbixcblx0XHRcdFx0XHRtb2R1bGVJZDogbW9kdWxlSWRcblx0XHRcdFx0fTtcblx0XHRcdH1cblx0XHRcdGlmIChtb2R1bGUuaG90Ll9tYWluKSB7XG5cdFx0XHRcdHJldHVybiB7XG5cdFx0XHRcdFx0dHlwZTogXCJ1bmFjY2VwdGVkXCIsXG5cdFx0XHRcdFx0Y2hhaW46IGNoYWluLFxuXHRcdFx0XHRcdG1vZHVsZUlkOiBtb2R1bGVJZFxuXHRcdFx0XHR9O1xuXHRcdFx0fVxuXHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBtb2R1bGUucGFyZW50cy5sZW5ndGg7IGkrKykge1xuXHRcdFx0XHR2YXIgcGFyZW50SWQgPSBtb2R1bGUucGFyZW50c1tpXTtcblx0XHRcdFx0dmFyIHBhcmVudCA9IF9fd2VicGFja19yZXF1aXJlX18uY1twYXJlbnRJZF07XG5cdFx0XHRcdGlmICghcGFyZW50KSBjb250aW51ZTtcblx0XHRcdFx0aWYgKHBhcmVudC5ob3QuX2RlY2xpbmVkRGVwZW5kZW5jaWVzW21vZHVsZUlkXSkge1xuXHRcdFx0XHRcdHJldHVybiB7XG5cdFx0XHRcdFx0XHR0eXBlOiBcImRlY2xpbmVkXCIsXG5cdFx0XHRcdFx0XHRjaGFpbjogY2hhaW4uY29uY2F0KFtwYXJlbnRJZF0pLFxuXHRcdFx0XHRcdFx0bW9kdWxlSWQ6IG1vZHVsZUlkLFxuXHRcdFx0XHRcdFx0cGFyZW50SWQ6IHBhcmVudElkXG5cdFx0XHRcdFx0fTtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAob3V0ZGF0ZWRNb2R1bGVzLmluZGV4T2YocGFyZW50SWQpICE9PSAtMSkgY29udGludWU7XG5cdFx0XHRcdGlmIChwYXJlbnQuaG90Ll9hY2NlcHRlZERlcGVuZGVuY2llc1ttb2R1bGVJZF0pIHtcblx0XHRcdFx0XHRpZiAoIW91dGRhdGVkRGVwZW5kZW5jaWVzW3BhcmVudElkXSlcblx0XHRcdFx0XHRcdG91dGRhdGVkRGVwZW5kZW5jaWVzW3BhcmVudElkXSA9IFtdO1xuXHRcdFx0XHRcdGFkZEFsbFRvU2V0KG91dGRhdGVkRGVwZW5kZW5jaWVzW3BhcmVudElkXSwgW21vZHVsZUlkXSk7XG5cdFx0XHRcdFx0Y29udGludWU7XG5cdFx0XHRcdH1cblx0XHRcdFx0ZGVsZXRlIG91dGRhdGVkRGVwZW5kZW5jaWVzW3BhcmVudElkXTtcblx0XHRcdFx0b3V0ZGF0ZWRNb2R1bGVzLnB1c2gocGFyZW50SWQpO1xuXHRcdFx0XHRxdWV1ZS5wdXNoKHtcblx0XHRcdFx0XHRjaGFpbjogY2hhaW4uY29uY2F0KFtwYXJlbnRJZF0pLFxuXHRcdFx0XHRcdGlkOiBwYXJlbnRJZFxuXHRcdFx0XHR9KTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4ge1xuXHRcdFx0dHlwZTogXCJhY2NlcHRlZFwiLFxuXHRcdFx0bW9kdWxlSWQ6IHVwZGF0ZU1vZHVsZUlkLFxuXHRcdFx0b3V0ZGF0ZWRNb2R1bGVzOiBvdXRkYXRlZE1vZHVsZXMsXG5cdFx0XHRvdXRkYXRlZERlcGVuZGVuY2llczogb3V0ZGF0ZWREZXBlbmRlbmNpZXNcblx0XHR9O1xuXHR9XG5cblx0ZnVuY3Rpb24gYWRkQWxsVG9TZXQoYSwgYikge1xuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgYi5sZW5ndGg7IGkrKykge1xuXHRcdFx0dmFyIGl0ZW0gPSBiW2ldO1xuXHRcdFx0aWYgKGEuaW5kZXhPZihpdGVtKSA9PT0gLTEpIGEucHVzaChpdGVtKTtcblx0XHR9XG5cdH1cblxuXHQvLyBhdCBiZWdpbiBhbGwgdXBkYXRlcyBtb2R1bGVzIGFyZSBvdXRkYXRlZFxuXHQvLyB0aGUgXCJvdXRkYXRlZFwiIHN0YXR1cyBjYW4gcHJvcGFnYXRlIHRvIHBhcmVudHMgaWYgdGhleSBkb24ndCBhY2NlcHQgdGhlIGNoaWxkcmVuXG5cdHZhciBvdXRkYXRlZERlcGVuZGVuY2llcyA9IHt9O1xuXHR2YXIgb3V0ZGF0ZWRNb2R1bGVzID0gW107XG5cdHZhciBhcHBsaWVkVXBkYXRlID0ge307XG5cblx0dmFyIHdhcm5VbmV4cGVjdGVkUmVxdWlyZSA9IGZ1bmN0aW9uIHdhcm5VbmV4cGVjdGVkUmVxdWlyZShtb2R1bGUpIHtcblx0XHRjb25zb2xlLndhcm4oXG5cdFx0XHRcIltITVJdIHVuZXhwZWN0ZWQgcmVxdWlyZShcIiArIG1vZHVsZS5pZCArIFwiKSB0byBkaXNwb3NlZCBtb2R1bGVcIlxuXHRcdCk7XG5cdH07XG5cblx0Zm9yICh2YXIgbW9kdWxlSWQgaW4gY3VycmVudFVwZGF0ZSkge1xuXHRcdGlmIChfX3dlYnBhY2tfcmVxdWlyZV9fLm8oY3VycmVudFVwZGF0ZSwgbW9kdWxlSWQpKSB7XG5cdFx0XHR2YXIgbmV3TW9kdWxlRmFjdG9yeSA9IGN1cnJlbnRVcGRhdGVbbW9kdWxlSWRdO1xuXHRcdFx0LyoqIEB0eXBlIHtUT0RPfSAqL1xuXHRcdFx0dmFyIHJlc3VsdDtcblx0XHRcdGlmIChuZXdNb2R1bGVGYWN0b3J5KSB7XG5cdFx0XHRcdHJlc3VsdCA9IGdldEFmZmVjdGVkTW9kdWxlRWZmZWN0cyhtb2R1bGVJZCk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRyZXN1bHQgPSB7XG5cdFx0XHRcdFx0dHlwZTogXCJkaXNwb3NlZFwiLFxuXHRcdFx0XHRcdG1vZHVsZUlkOiBtb2R1bGVJZFxuXHRcdFx0XHR9O1xuXHRcdFx0fVxuXHRcdFx0LyoqIEB0eXBlIHtFcnJvcnxmYWxzZX0gKi9cblx0XHRcdHZhciBhYm9ydEVycm9yID0gZmFsc2U7XG5cdFx0XHR2YXIgZG9BcHBseSA9IGZhbHNlO1xuXHRcdFx0dmFyIGRvRGlzcG9zZSA9IGZhbHNlO1xuXHRcdFx0dmFyIGNoYWluSW5mbyA9IFwiXCI7XG5cdFx0XHRpZiAocmVzdWx0LmNoYWluKSB7XG5cdFx0XHRcdGNoYWluSW5mbyA9IFwiXFxuVXBkYXRlIHByb3BhZ2F0aW9uOiBcIiArIHJlc3VsdC5jaGFpbi5qb2luKFwiIC0+IFwiKTtcblx0XHRcdH1cblx0XHRcdHN3aXRjaCAocmVzdWx0LnR5cGUpIHtcblx0XHRcdFx0Y2FzZSBcInNlbGYtZGVjbGluZWRcIjpcblx0XHRcdFx0XHRpZiAob3B0aW9ucy5vbkRlY2xpbmVkKSBvcHRpb25zLm9uRGVjbGluZWQocmVzdWx0KTtcblx0XHRcdFx0XHRpZiAoIW9wdGlvbnMuaWdub3JlRGVjbGluZWQpXG5cdFx0XHRcdFx0XHRhYm9ydEVycm9yID0gbmV3IEVycm9yKFxuXHRcdFx0XHRcdFx0XHRcIkFib3J0ZWQgYmVjYXVzZSBvZiBzZWxmIGRlY2xpbmU6IFwiICtcblx0XHRcdFx0XHRcdFx0XHRyZXN1bHQubW9kdWxlSWQgK1xuXHRcdFx0XHRcdFx0XHRcdGNoYWluSW5mb1xuXHRcdFx0XHRcdFx0KTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0Y2FzZSBcImRlY2xpbmVkXCI6XG5cdFx0XHRcdFx0aWYgKG9wdGlvbnMub25EZWNsaW5lZCkgb3B0aW9ucy5vbkRlY2xpbmVkKHJlc3VsdCk7XG5cdFx0XHRcdFx0aWYgKCFvcHRpb25zLmlnbm9yZURlY2xpbmVkKVxuXHRcdFx0XHRcdFx0YWJvcnRFcnJvciA9IG5ldyBFcnJvcihcblx0XHRcdFx0XHRcdFx0XCJBYm9ydGVkIGJlY2F1c2Ugb2YgZGVjbGluZWQgZGVwZW5kZW5jeTogXCIgK1xuXHRcdFx0XHRcdFx0XHRcdHJlc3VsdC5tb2R1bGVJZCArXG5cdFx0XHRcdFx0XHRcdFx0XCIgaW4gXCIgK1xuXHRcdFx0XHRcdFx0XHRcdHJlc3VsdC5wYXJlbnRJZCArXG5cdFx0XHRcdFx0XHRcdFx0Y2hhaW5JbmZvXG5cdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRjYXNlIFwidW5hY2NlcHRlZFwiOlxuXHRcdFx0XHRcdGlmIChvcHRpb25zLm9uVW5hY2NlcHRlZCkgb3B0aW9ucy5vblVuYWNjZXB0ZWQocmVzdWx0KTtcblx0XHRcdFx0XHRpZiAoIW9wdGlvbnMuaWdub3JlVW5hY2NlcHRlZClcblx0XHRcdFx0XHRcdGFib3J0RXJyb3IgPSBuZXcgRXJyb3IoXG5cdFx0XHRcdFx0XHRcdFwiQWJvcnRlZCBiZWNhdXNlIFwiICsgbW9kdWxlSWQgKyBcIiBpcyBub3QgYWNjZXB0ZWRcIiArIGNoYWluSW5mb1xuXHRcdFx0XHRcdFx0KTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0Y2FzZSBcImFjY2VwdGVkXCI6XG5cdFx0XHRcdFx0aWYgKG9wdGlvbnMub25BY2NlcHRlZCkgb3B0aW9ucy5vbkFjY2VwdGVkKHJlc3VsdCk7XG5cdFx0XHRcdFx0ZG9BcHBseSA9IHRydWU7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdGNhc2UgXCJkaXNwb3NlZFwiOlxuXHRcdFx0XHRcdGlmIChvcHRpb25zLm9uRGlzcG9zZWQpIG9wdGlvbnMub25EaXNwb3NlZChyZXN1bHQpO1xuXHRcdFx0XHRcdGRvRGlzcG9zZSA9IHRydWU7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdGRlZmF1bHQ6XG5cdFx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiVW5leGNlcHRpb24gdHlwZSBcIiArIHJlc3VsdC50eXBlKTtcblx0XHRcdH1cblx0XHRcdGlmIChhYm9ydEVycm9yKSB7XG5cdFx0XHRcdHJldHVybiB7XG5cdFx0XHRcdFx0ZXJyb3I6IGFib3J0RXJyb3Jcblx0XHRcdFx0fTtcblx0XHRcdH1cblx0XHRcdGlmIChkb0FwcGx5KSB7XG5cdFx0XHRcdGFwcGxpZWRVcGRhdGVbbW9kdWxlSWRdID0gbmV3TW9kdWxlRmFjdG9yeTtcblx0XHRcdFx0YWRkQWxsVG9TZXQob3V0ZGF0ZWRNb2R1bGVzLCByZXN1bHQub3V0ZGF0ZWRNb2R1bGVzKTtcblx0XHRcdFx0Zm9yIChtb2R1bGVJZCBpbiByZXN1bHQub3V0ZGF0ZWREZXBlbmRlbmNpZXMpIHtcblx0XHRcdFx0XHRpZiAoX193ZWJwYWNrX3JlcXVpcmVfXy5vKHJlc3VsdC5vdXRkYXRlZERlcGVuZGVuY2llcywgbW9kdWxlSWQpKSB7XG5cdFx0XHRcdFx0XHRpZiAoIW91dGRhdGVkRGVwZW5kZW5jaWVzW21vZHVsZUlkXSlcblx0XHRcdFx0XHRcdFx0b3V0ZGF0ZWREZXBlbmRlbmNpZXNbbW9kdWxlSWRdID0gW107XG5cdFx0XHRcdFx0XHRhZGRBbGxUb1NldChcblx0XHRcdFx0XHRcdFx0b3V0ZGF0ZWREZXBlbmRlbmNpZXNbbW9kdWxlSWRdLFxuXHRcdFx0XHRcdFx0XHRyZXN1bHQub3V0ZGF0ZWREZXBlbmRlbmNpZXNbbW9kdWxlSWRdXG5cdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0aWYgKGRvRGlzcG9zZSkge1xuXHRcdFx0XHRhZGRBbGxUb1NldChvdXRkYXRlZE1vZHVsZXMsIFtyZXN1bHQubW9kdWxlSWRdKTtcblx0XHRcdFx0YXBwbGllZFVwZGF0ZVttb2R1bGVJZF0gPSB3YXJuVW5leHBlY3RlZFJlcXVpcmU7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cdGN1cnJlbnRVcGRhdGUgPSB1bmRlZmluZWQ7XG5cblx0Ly8gU3RvcmUgc2VsZiBhY2NlcHRlZCBvdXRkYXRlZCBtb2R1bGVzIHRvIHJlcXVpcmUgdGhlbSBsYXRlciBieSB0aGUgbW9kdWxlIHN5c3RlbVxuXHR2YXIgb3V0ZGF0ZWRTZWxmQWNjZXB0ZWRNb2R1bGVzID0gW107XG5cdGZvciAodmFyIGogPSAwOyBqIDwgb3V0ZGF0ZWRNb2R1bGVzLmxlbmd0aDsgaisrKSB7XG5cdFx0dmFyIG91dGRhdGVkTW9kdWxlSWQgPSBvdXRkYXRlZE1vZHVsZXNbal07XG5cdFx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19yZXF1aXJlX18uY1tvdXRkYXRlZE1vZHVsZUlkXTtcblx0XHRpZiAoXG5cdFx0XHRtb2R1bGUgJiZcblx0XHRcdChtb2R1bGUuaG90Ll9zZWxmQWNjZXB0ZWQgfHwgbW9kdWxlLmhvdC5fbWFpbikgJiZcblx0XHRcdC8vIHJlbW92ZWQgc2VsZi1hY2NlcHRlZCBtb2R1bGVzIHNob3VsZCBub3QgYmUgcmVxdWlyZWRcblx0XHRcdGFwcGxpZWRVcGRhdGVbb3V0ZGF0ZWRNb2R1bGVJZF0gIT09IHdhcm5VbmV4cGVjdGVkUmVxdWlyZSAmJlxuXHRcdFx0Ly8gd2hlbiBjYWxsZWQgaW52YWxpZGF0ZSBzZWxmLWFjY2VwdGluZyBpcyBub3QgcG9zc2libGVcblx0XHRcdCFtb2R1bGUuaG90Ll9zZWxmSW52YWxpZGF0ZWRcblx0XHQpIHtcblx0XHRcdG91dGRhdGVkU2VsZkFjY2VwdGVkTW9kdWxlcy5wdXNoKHtcblx0XHRcdFx0bW9kdWxlOiBvdXRkYXRlZE1vZHVsZUlkLFxuXHRcdFx0XHRyZXF1aXJlOiBtb2R1bGUuaG90Ll9yZXF1aXJlU2VsZixcblx0XHRcdFx0ZXJyb3JIYW5kbGVyOiBtb2R1bGUuaG90Ll9zZWxmQWNjZXB0ZWRcblx0XHRcdH0pO1xuXHRcdH1cblx0fVxuXG5cdHZhciBtb2R1bGVPdXRkYXRlZERlcGVuZGVuY2llcztcblxuXHRyZXR1cm4ge1xuXHRcdGRpc3Bvc2U6IGZ1bmN0aW9uICgpIHtcblx0XHRcdGN1cnJlbnRVcGRhdGVSZW1vdmVkQ2h1bmtzLmZvckVhY2goZnVuY3Rpb24gKGNodW5rSWQpIHtcblx0XHRcdFx0ZGVsZXRlIGluc3RhbGxlZENodW5rc1tjaHVua0lkXTtcblx0XHRcdH0pO1xuXHRcdFx0Y3VycmVudFVwZGF0ZVJlbW92ZWRDaHVua3MgPSB1bmRlZmluZWQ7XG5cblx0XHRcdHZhciBpZHg7XG5cdFx0XHR2YXIgcXVldWUgPSBvdXRkYXRlZE1vZHVsZXMuc2xpY2UoKTtcblx0XHRcdHdoaWxlIChxdWV1ZS5sZW5ndGggPiAwKSB7XG5cdFx0XHRcdHZhciBtb2R1bGVJZCA9IHF1ZXVlLnBvcCgpO1xuXHRcdFx0XHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX3JlcXVpcmVfXy5jW21vZHVsZUlkXTtcblx0XHRcdFx0aWYgKCFtb2R1bGUpIGNvbnRpbnVlO1xuXG5cdFx0XHRcdHZhciBkYXRhID0ge307XG5cblx0XHRcdFx0Ly8gQ2FsbCBkaXNwb3NlIGhhbmRsZXJzXG5cdFx0XHRcdHZhciBkaXNwb3NlSGFuZGxlcnMgPSBtb2R1bGUuaG90Ll9kaXNwb3NlSGFuZGxlcnM7XG5cdFx0XHRcdGZvciAoaiA9IDA7IGogPCBkaXNwb3NlSGFuZGxlcnMubGVuZ3RoOyBqKyspIHtcblx0XHRcdFx0XHRkaXNwb3NlSGFuZGxlcnNbal0uY2FsbChudWxsLCBkYXRhKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmhtckRbbW9kdWxlSWRdID0gZGF0YTtcblxuXHRcdFx0XHQvLyBkaXNhYmxlIG1vZHVsZSAodGhpcyBkaXNhYmxlcyByZXF1aXJlcyBmcm9tIHRoaXMgbW9kdWxlKVxuXHRcdFx0XHRtb2R1bGUuaG90LmFjdGl2ZSA9IGZhbHNlO1xuXG5cdFx0XHRcdC8vIHJlbW92ZSBtb2R1bGUgZnJvbSBjYWNoZVxuXHRcdFx0XHRkZWxldGUgX193ZWJwYWNrX3JlcXVpcmVfXy5jW21vZHVsZUlkXTtcblxuXHRcdFx0XHQvLyB3aGVuIGRpc3Bvc2luZyB0aGVyZSBpcyBubyBuZWVkIHRvIGNhbGwgZGlzcG9zZSBoYW5kbGVyXG5cdFx0XHRcdGRlbGV0ZSBvdXRkYXRlZERlcGVuZGVuY2llc1ttb2R1bGVJZF07XG5cblx0XHRcdFx0Ly8gcmVtb3ZlIFwicGFyZW50c1wiIHJlZmVyZW5jZXMgZnJvbSBhbGwgY2hpbGRyZW5cblx0XHRcdFx0Zm9yIChqID0gMDsgaiA8IG1vZHVsZS5jaGlsZHJlbi5sZW5ndGg7IGorKykge1xuXHRcdFx0XHRcdHZhciBjaGlsZCA9IF9fd2VicGFja19yZXF1aXJlX18uY1ttb2R1bGUuY2hpbGRyZW5bal1dO1xuXHRcdFx0XHRcdGlmICghY2hpbGQpIGNvbnRpbnVlO1xuXHRcdFx0XHRcdGlkeCA9IGNoaWxkLnBhcmVudHMuaW5kZXhPZihtb2R1bGVJZCk7XG5cdFx0XHRcdFx0aWYgKGlkeCA+PSAwKSB7XG5cdFx0XHRcdFx0XHRjaGlsZC5wYXJlbnRzLnNwbGljZShpZHgsIDEpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHQvLyByZW1vdmUgb3V0ZGF0ZWQgZGVwZW5kZW5jeSBmcm9tIG1vZHVsZSBjaGlsZHJlblxuXHRcdFx0dmFyIGRlcGVuZGVuY3k7XG5cdFx0XHRmb3IgKHZhciBvdXRkYXRlZE1vZHVsZUlkIGluIG91dGRhdGVkRGVwZW5kZW5jaWVzKSB7XG5cdFx0XHRcdGlmIChfX3dlYnBhY2tfcmVxdWlyZV9fLm8ob3V0ZGF0ZWREZXBlbmRlbmNpZXMsIG91dGRhdGVkTW9kdWxlSWQpKSB7XG5cdFx0XHRcdFx0bW9kdWxlID0gX193ZWJwYWNrX3JlcXVpcmVfXy5jW291dGRhdGVkTW9kdWxlSWRdO1xuXHRcdFx0XHRcdGlmIChtb2R1bGUpIHtcblx0XHRcdFx0XHRcdG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzID1cblx0XHRcdFx0XHRcdFx0b3V0ZGF0ZWREZXBlbmRlbmNpZXNbb3V0ZGF0ZWRNb2R1bGVJZF07XG5cdFx0XHRcdFx0XHRmb3IgKGogPSAwOyBqIDwgbW9kdWxlT3V0ZGF0ZWREZXBlbmRlbmNpZXMubGVuZ3RoOyBqKyspIHtcblx0XHRcdFx0XHRcdFx0ZGVwZW5kZW5jeSA9IG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzW2pdO1xuXHRcdFx0XHRcdFx0XHRpZHggPSBtb2R1bGUuY2hpbGRyZW4uaW5kZXhPZihkZXBlbmRlbmN5KTtcblx0XHRcdFx0XHRcdFx0aWYgKGlkeCA+PSAwKSBtb2R1bGUuY2hpbGRyZW4uc3BsaWNlKGlkeCwgMSk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSxcblx0XHRhcHBseTogZnVuY3Rpb24gKHJlcG9ydEVycm9yKSB7XG5cdFx0XHQvLyBpbnNlcnQgbmV3IGNvZGVcblx0XHRcdGZvciAodmFyIHVwZGF0ZU1vZHVsZUlkIGluIGFwcGxpZWRVcGRhdGUpIHtcblx0XHRcdFx0aWYgKF9fd2VicGFja19yZXF1aXJlX18ubyhhcHBsaWVkVXBkYXRlLCB1cGRhdGVNb2R1bGVJZCkpIHtcblx0XHRcdFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLm1bdXBkYXRlTW9kdWxlSWRdID0gYXBwbGllZFVwZGF0ZVt1cGRhdGVNb2R1bGVJZF07XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0Ly8gcnVuIG5ldyBydW50aW1lIG1vZHVsZXNcblx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgY3VycmVudFVwZGF0ZVJ1bnRpbWUubGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0Y3VycmVudFVwZGF0ZVJ1bnRpbWVbaV0oX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIGNhbGwgYWNjZXB0IGhhbmRsZXJzXG5cdFx0XHRmb3IgKHZhciBvdXRkYXRlZE1vZHVsZUlkIGluIG91dGRhdGVkRGVwZW5kZW5jaWVzKSB7XG5cdFx0XHRcdGlmIChfX3dlYnBhY2tfcmVxdWlyZV9fLm8ob3V0ZGF0ZWREZXBlbmRlbmNpZXMsIG91dGRhdGVkTW9kdWxlSWQpKSB7XG5cdFx0XHRcdFx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19yZXF1aXJlX18uY1tvdXRkYXRlZE1vZHVsZUlkXTtcblx0XHRcdFx0XHRpZiAobW9kdWxlKSB7XG5cdFx0XHRcdFx0XHRtb2R1bGVPdXRkYXRlZERlcGVuZGVuY2llcyA9XG5cdFx0XHRcdFx0XHRcdG91dGRhdGVkRGVwZW5kZW5jaWVzW291dGRhdGVkTW9kdWxlSWRdO1xuXHRcdFx0XHRcdFx0dmFyIGNhbGxiYWNrcyA9IFtdO1xuXHRcdFx0XHRcdFx0dmFyIGVycm9ySGFuZGxlcnMgPSBbXTtcblx0XHRcdFx0XHRcdHZhciBkZXBlbmRlbmNpZXNGb3JDYWxsYmFja3MgPSBbXTtcblx0XHRcdFx0XHRcdGZvciAodmFyIGogPSAwOyBqIDwgbW9kdWxlT3V0ZGF0ZWREZXBlbmRlbmNpZXMubGVuZ3RoOyBqKyspIHtcblx0XHRcdFx0XHRcdFx0dmFyIGRlcGVuZGVuY3kgPSBtb2R1bGVPdXRkYXRlZERlcGVuZGVuY2llc1tqXTtcblx0XHRcdFx0XHRcdFx0dmFyIGFjY2VwdENhbGxiYWNrID1cblx0XHRcdFx0XHRcdFx0XHRtb2R1bGUuaG90Ll9hY2NlcHRlZERlcGVuZGVuY2llc1tkZXBlbmRlbmN5XTtcblx0XHRcdFx0XHRcdFx0dmFyIGVycm9ySGFuZGxlciA9XG5cdFx0XHRcdFx0XHRcdFx0bW9kdWxlLmhvdC5fYWNjZXB0ZWRFcnJvckhhbmRsZXJzW2RlcGVuZGVuY3ldO1xuXHRcdFx0XHRcdFx0XHRpZiAoYWNjZXB0Q2FsbGJhY2spIHtcblx0XHRcdFx0XHRcdFx0XHRpZiAoY2FsbGJhY2tzLmluZGV4T2YoYWNjZXB0Q2FsbGJhY2spICE9PSAtMSkgY29udGludWU7XG5cdFx0XHRcdFx0XHRcdFx0Y2FsbGJhY2tzLnB1c2goYWNjZXB0Q2FsbGJhY2spO1xuXHRcdFx0XHRcdFx0XHRcdGVycm9ySGFuZGxlcnMucHVzaChlcnJvckhhbmRsZXIpO1xuXHRcdFx0XHRcdFx0XHRcdGRlcGVuZGVuY2llc0ZvckNhbGxiYWNrcy5wdXNoKGRlcGVuZGVuY3kpO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRmb3IgKHZhciBrID0gMDsgayA8IGNhbGxiYWNrcy5sZW5ndGg7IGsrKykge1xuXHRcdFx0XHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdFx0XHRcdGNhbGxiYWNrc1trXS5jYWxsKG51bGwsIG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzKTtcblx0XHRcdFx0XHRcdFx0fSBjYXRjaCAoZXJyKSB7XG5cdFx0XHRcdFx0XHRcdFx0aWYgKHR5cGVvZiBlcnJvckhhbmRsZXJzW2tdID09PSBcImZ1bmN0aW9uXCIpIHtcblx0XHRcdFx0XHRcdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGVycm9ySGFuZGxlcnNba10oZXJyLCB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0bW9kdWxlSWQ6IG91dGRhdGVkTW9kdWxlSWQsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0ZGVwZW5kZW5jeUlkOiBkZXBlbmRlbmNpZXNGb3JDYWxsYmFja3Nba11cblx0XHRcdFx0XHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHRcdFx0XHR9IGNhdGNoIChlcnIyKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGlmIChvcHRpb25zLm9uRXJyb3JlZCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdG9wdGlvbnMub25FcnJvcmVkKHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHR5cGU6IFwiYWNjZXB0LWVycm9yLWhhbmRsZXItZXJyb3JlZFwiLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0bW9kdWxlSWQ6IG91dGRhdGVkTW9kdWxlSWQsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRkZXBlbmRlbmN5SWQ6IGRlcGVuZGVuY2llc0ZvckNhbGxiYWNrc1trXSxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGVycm9yOiBlcnIyLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0b3JpZ2luYWxFcnJvcjogZXJyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRcdFx0aWYgKCFvcHRpb25zLmlnbm9yZUVycm9yZWQpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZXBvcnRFcnJvcihlcnIyKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZXBvcnRFcnJvcihlcnIpO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0XHRcdGlmIChvcHRpb25zLm9uRXJyb3JlZCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRvcHRpb25zLm9uRXJyb3JlZCh7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0dHlwZTogXCJhY2NlcHQtZXJyb3JlZFwiLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdG1vZHVsZUlkOiBvdXRkYXRlZE1vZHVsZUlkLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGRlcGVuZGVuY3lJZDogZGVwZW5kZW5jaWVzRm9yQ2FsbGJhY2tzW2tdLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGVycm9yOiBlcnJcblx0XHRcdFx0XHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0XHRpZiAoIW9wdGlvbnMuaWdub3JlRXJyb3JlZCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRyZXBvcnRFcnJvcihlcnIpO1xuXHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHQvLyBMb2FkIHNlbGYgYWNjZXB0ZWQgbW9kdWxlc1xuXHRcdFx0Zm9yICh2YXIgbyA9IDA7IG8gPCBvdXRkYXRlZFNlbGZBY2NlcHRlZE1vZHVsZXMubGVuZ3RoOyBvKyspIHtcblx0XHRcdFx0dmFyIGl0ZW0gPSBvdXRkYXRlZFNlbGZBY2NlcHRlZE1vZHVsZXNbb107XG5cdFx0XHRcdHZhciBtb2R1bGVJZCA9IGl0ZW0ubW9kdWxlO1xuXHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdGl0ZW0ucmVxdWlyZShtb2R1bGVJZCk7XG5cdFx0XHRcdH0gY2F0Y2ggKGVycikge1xuXHRcdFx0XHRcdGlmICh0eXBlb2YgaXRlbS5lcnJvckhhbmRsZXIgPT09IFwiZnVuY3Rpb25cIikge1xuXHRcdFx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRcdFx0aXRlbS5lcnJvckhhbmRsZXIoZXJyLCB7XG5cdFx0XHRcdFx0XHRcdFx0bW9kdWxlSWQ6IG1vZHVsZUlkLFxuXHRcdFx0XHRcdFx0XHRcdG1vZHVsZTogX193ZWJwYWNrX3JlcXVpcmVfXy5jW21vZHVsZUlkXVxuXHRcdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdH0gY2F0Y2ggKGVycjIpIHtcblx0XHRcdFx0XHRcdFx0aWYgKG9wdGlvbnMub25FcnJvcmVkKSB7XG5cdFx0XHRcdFx0XHRcdFx0b3B0aW9ucy5vbkVycm9yZWQoe1xuXHRcdFx0XHRcdFx0XHRcdFx0dHlwZTogXCJzZWxmLWFjY2VwdC1lcnJvci1oYW5kbGVyLWVycm9yZWRcIixcblx0XHRcdFx0XHRcdFx0XHRcdG1vZHVsZUlkOiBtb2R1bGVJZCxcblx0XHRcdFx0XHRcdFx0XHRcdGVycm9yOiBlcnIyLFxuXHRcdFx0XHRcdFx0XHRcdFx0b3JpZ2luYWxFcnJvcjogZXJyXG5cdFx0XHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0aWYgKCFvcHRpb25zLmlnbm9yZUVycm9yZWQpIHtcblx0XHRcdFx0XHRcdFx0XHRyZXBvcnRFcnJvcihlcnIyKTtcblx0XHRcdFx0XHRcdFx0XHRyZXBvcnRFcnJvcihlcnIpO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdGlmIChvcHRpb25zLm9uRXJyb3JlZCkge1xuXHRcdFx0XHRcdFx0XHRvcHRpb25zLm9uRXJyb3JlZCh7XG5cdFx0XHRcdFx0XHRcdFx0dHlwZTogXCJzZWxmLWFjY2VwdC1lcnJvcmVkXCIsXG5cdFx0XHRcdFx0XHRcdFx0bW9kdWxlSWQ6IG1vZHVsZUlkLFxuXHRcdFx0XHRcdFx0XHRcdGVycm9yOiBlcnJcblx0XHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRpZiAoIW9wdGlvbnMuaWdub3JlRXJyb3JlZCkge1xuXHRcdFx0XHRcdFx0XHRyZXBvcnRFcnJvcihlcnIpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gb3V0ZGF0ZWRNb2R1bGVzO1xuXHRcdH1cblx0fTtcbn1cbl9fd2VicGFja19yZXF1aXJlX18uaG1ySS5qc29ucCA9IGZ1bmN0aW9uIChtb2R1bGVJZCwgYXBwbHlIYW5kbGVycykge1xuXHRpZiAoIWN1cnJlbnRVcGRhdGUpIHtcblx0XHRjdXJyZW50VXBkYXRlID0ge307XG5cdFx0Y3VycmVudFVwZGF0ZVJ1bnRpbWUgPSBbXTtcblx0XHRjdXJyZW50VXBkYXRlUmVtb3ZlZENodW5rcyA9IFtdO1xuXHRcdGFwcGx5SGFuZGxlcnMucHVzaChhcHBseUhhbmRsZXIpO1xuXHR9XG5cdGlmICghX193ZWJwYWNrX3JlcXVpcmVfXy5vKGN1cnJlbnRVcGRhdGUsIG1vZHVsZUlkKSkge1xuXHRcdGN1cnJlbnRVcGRhdGVbbW9kdWxlSWRdID0gX193ZWJwYWNrX3JlcXVpcmVfXy5tW21vZHVsZUlkXTtcblx0fVxufTtcbl9fd2VicGFja19yZXF1aXJlX18uaG1yQy5qc29ucCA9IGZ1bmN0aW9uIChcblx0Y2h1bmtJZHMsXG5cdHJlbW92ZWRDaHVua3MsXG5cdHJlbW92ZWRNb2R1bGVzLFxuXHRwcm9taXNlcyxcblx0YXBwbHlIYW5kbGVycyxcblx0dXBkYXRlZE1vZHVsZXNMaXN0XG4pIHtcblx0YXBwbHlIYW5kbGVycy5wdXNoKGFwcGx5SGFuZGxlcik7XG5cdGN1cnJlbnRVcGRhdGVDaHVua3MgPSB7fTtcblx0Y3VycmVudFVwZGF0ZVJlbW92ZWRDaHVua3MgPSByZW1vdmVkQ2h1bmtzO1xuXHRjdXJyZW50VXBkYXRlID0gcmVtb3ZlZE1vZHVsZXMucmVkdWNlKGZ1bmN0aW9uIChvYmosIGtleSkge1xuXHRcdG9ialtrZXldID0gZmFsc2U7XG5cdFx0cmV0dXJuIG9iajtcblx0fSwge30pO1xuXHRjdXJyZW50VXBkYXRlUnVudGltZSA9IFtdO1xuXHRjaHVua0lkcy5mb3JFYWNoKGZ1bmN0aW9uIChjaHVua0lkKSB7XG5cdFx0aWYgKFxuXHRcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vKGluc3RhbGxlZENodW5rcywgY2h1bmtJZCkgJiZcblx0XHRcdGluc3RhbGxlZENodW5rc1tjaHVua0lkXSAhPT0gdW5kZWZpbmVkXG5cdFx0KSB7XG5cdFx0XHRwcm9taXNlcy5wdXNoKGxvYWRVcGRhdGVDaHVuayhjaHVua0lkLCB1cGRhdGVkTW9kdWxlc0xpc3QpKTtcblx0XHRcdGN1cnJlbnRVcGRhdGVDaHVua3NbY2h1bmtJZF0gPSB0cnVlO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRjdXJyZW50VXBkYXRlQ2h1bmtzW2NodW5rSWRdID0gZmFsc2U7XG5cdFx0fVxuXHR9KTtcblx0aWYgKF9fd2VicGFja19yZXF1aXJlX18uZikge1xuXHRcdF9fd2VicGFja19yZXF1aXJlX18uZi5qc29ucEhtciA9IGZ1bmN0aW9uIChjaHVua0lkLCBwcm9taXNlcykge1xuXHRcdFx0aWYgKFxuXHRcdFx0XHRjdXJyZW50VXBkYXRlQ2h1bmtzICYmXG5cdFx0XHRcdF9fd2VicGFja19yZXF1aXJlX18ubyhjdXJyZW50VXBkYXRlQ2h1bmtzLCBjaHVua0lkKSAmJlxuXHRcdFx0XHQhY3VycmVudFVwZGF0ZUNodW5rc1tjaHVua0lkXVxuXHRcdFx0KSB7XG5cdFx0XHRcdHByb21pc2VzLnB1c2gobG9hZFVwZGF0ZUNodW5rKGNodW5rSWQpKTtcblx0XHRcdFx0Y3VycmVudFVwZGF0ZUNodW5rc1tjaHVua0lkXSA9IHRydWU7XG5cdFx0XHR9XG5cdFx0fTtcblx0fVxufTtcblxuX193ZWJwYWNrX3JlcXVpcmVfXy5obXJNID0gKCkgPT4ge1xuXHRpZiAodHlwZW9mIGZldGNoID09PSBcInVuZGVmaW5lZFwiKSB0aHJvdyBuZXcgRXJyb3IoXCJObyBicm93c2VyIHN1cHBvcnQ6IG5lZWQgZmV0Y2ggQVBJXCIpO1xuXHRyZXR1cm4gZmV0Y2goX193ZWJwYWNrX3JlcXVpcmVfXy5wICsgX193ZWJwYWNrX3JlcXVpcmVfXy5obXJGKCkpLnRoZW4oKHJlc3BvbnNlKSA9PiB7XG5cdFx0aWYocmVzcG9uc2Uuc3RhdHVzID09PSA0MDQpIHJldHVybjsgLy8gbm8gdXBkYXRlIGF2YWlsYWJsZVxuXHRcdGlmKCFyZXNwb25zZS5vaykgdGhyb3cgbmV3IEVycm9yKFwiRmFpbGVkIHRvIGZldGNoIHVwZGF0ZSBtYW5pZmVzdCBcIiArIHJlc3BvbnNlLnN0YXR1c1RleHQpO1xuXHRcdHJldHVybiByZXNwb25zZS5qc29uKCk7XG5cdH0pO1xufTtcblxuLy8gbm8gb24gY2h1bmtzIGxvYWRlZFxuXG4vLyBubyBqc29ucCBmdW5jdGlvbiIsIi8vIG1vZHVsZSBjYWNoZSBhcmUgdXNlZCBzbyBlbnRyeSBpbmxpbmluZyBpcyBkaXNhYmxlZFxuLy8gc3RhcnR1cFxuLy8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG52YXIgX193ZWJwYWNrX2V4cG9ydHNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oNjQzKTtcbiJdLCJuYW1lcyI6WyJpblByb2dyZXNzIiwiZGF0YVdlYnBhY2tQcmVmaXgiLCJjcmVhdGVTdHlsZXNoZWV0IiwiZmluZFN0eWxlc2hlZXQiLCJvbGRUYWdzIiwibmV3VGFncyIsImFwcGx5SGFuZGxlciIsInNhdmVEYXRhIiwiY29udGFpbmVyIiwiY2FyZHNEYXRhIiwiY29scyIsIkFycmF5IiwiZnJvbSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJpIiwibGVuZ3RoIiwiY2FyZHMiLCJqIiwiaW5uZXJIVE1MIiwibG9jYWxTdG9yYWdlIiwic2F2ZWREYXRhIiwiSlNPTiIsInN0cmluZ2lmeSIsIkNhcmRTeXMiLCJjb25zdHJ1Y3RvciIsInRoaXMiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJhZGRCdG5zIiwiZWxlbSIsImFkZEV2ZW50TGlzdGVuZXIiLCJldnQiLCJjdXJyZW50VGFyZ2V0IiwiY2xhc3NMaXN0IiwidG9nZ2xlIiwiYWRkQmxvY2tFbCIsImNyZWF0ZUFkZEJsb2NrIiwiYWZ0ZXIiLCJjcmVhdGVDYXJkIiwiZm9jdXMiLCJFdnRHaG9zdEVsTGVmdCIsIkV2dEdob3N0RWxUb3AiLCJkcmFnZ2VkRWwiLCJnaG9zdEVsIiwiaW5wdXRGaWVsZENvb3JkcyIsInRhcmdldCIsImNvbnRhaW5zIiwicHJldmVudERlZmF1bHQiLCJzdHlsZSIsImN1cnNvciIsImNsb25lTm9kZSIsImFkZCIsImJvZHkiLCJhcHBlbmRDaGlsZCIsInRvcCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsImxlZnQiLCJ3aWR0aCIsIm9mZnNldFdpZHRoIiwiaGVpZ2h0Iiwib2Zmc2V0SGVpZ2h0IiwicGFnZVgiLCJwYWdlWSIsImRyYWdFbGVtc1N0eWxlIiwiZnJlZUlucHV0RmllbGRTZXQiLCJjb250YWluZXJUb3AiLCJUb3AiLCJ3aW5kb3ciLCJzY3JvbGxZIiwiY29udGFpbmVyQm90dG9tIiwiYm90dG9tIiwiY29udGFpbmVydExlZnQiLCJzY3JvbGxYIiwiY29udGFpbmVyUmlnaHQiLCJyaWdodCIsImdob3N0RWxUb3AiLCJnaG9zdEVsQm90dG9tIiwiZ2hvc3RFbExlZnQiLCJnaG9zdEVsUmlnaHQiLCJyZW1vdmVDaGlsZCIsInJlbW92ZSIsImRyYWdFbGVtU3R5bGVPZmYiLCJmcmVlSW5wdXRGaWVsZE9mZiIsImNsb3Nlc3QiLCJlbGVtZW50RnJvbVBvaW50IiwiY2xpZW50WCIsImNsaWVudFkiLCJjbG9zZXN0Q29sIiwidG9wQm9yZGVyIiwiYm90dG9tQm9yZGVyIiwibGVmdEJvcmRlciIsInJpZ2h0Qm9yZGVyIiwibGFzdEVsIiwiZmluZCIsIml0ZW0iLCJsYXN0T3ZlckVsIiwicG9zIiwiYmVmb3JlIiwiZHJhZ0Ryb3BTZXQiLCJwYXJzZSIsImdldEl0ZW0iLCJidG4iLCJjYXJkRWwiLCJjcmVhdGVFbGVtZW50IiwiaW5zZXJ0QWRqYWNlbnRIVE1MIiwiY2xvc2VDYXJkRXZlbnRzIiwicmVhZFNhdmVkRGF0YSIsInN0YXRpYyIsImZpZWxkIiwic2V0QnRuIiwidGV4dEFyZWEiLCJidG5FbCIsInZhbHVlIiwiYWxlcnQiLCJjYXJkIiwiYXBwZW5kIiwi0YFsb3NlQ2FyZEJ0biIsImNsb3NlQ2FyZEJ0biIsImZvckVhY2giLCJyZW1vdmVBdHRyaWJ1dGUiLCJjbG9zZXN0RWwiLCJtYXJnaW5Cb3R0b20iLCJtYXJnaW5Ub3AiLCJub3JtYWxpemVVcmwiLCJzcmNCeU1vZHVsZUlkIiwiT2JqZWN0IiwiY3JlYXRlIiwibm9Eb2N1bWVudCIsInByb3RvdHlwZSIsIm5vb3AiLCJ1cGRhdGVDc3MiLCJlbCIsInVybCIsImhyZWYiLCJzcGxpdCIsImlzVXJsUmVxdWVzdCIsImlzTG9hZGVkIiwiaW5kZXhPZiIsInZpc2l0ZWQiLCJuZXdFbCIsInBhcmVudE5vZGUiLCJjb25jYXQiLCJEYXRlIiwibm93IiwibmV4dFNpYmxpbmciLCJpbnNlcnRCZWZvcmUiLCJyZWxvYWRBbGwiLCJlbGVtZW50cyIsImNhbGwiLCJ0ZXN0IiwibW9kdWxlIiwiZXhwb3J0cyIsIm1vZHVsZUlkIiwib3B0aW9ucyIsImNvbnNvbGUiLCJsb2ciLCJmbiIsInRpbWVvdXQiLCJnZXRTY3JpcHRTcmMiLCJzcmMiLCJjdXJyZW50U2NyaXB0Iiwic2NyaXB0cyIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwibGFzdFNjcmlwdFRhZyIsImZpbGVNYXAiLCJzcGxpdFJlc3VsdCIsImZpbGVuYW1lIiwibWFwIiwibWFwUnVsZSIsInJlZyIsIlJlZ0V4cCIsInJlcGxhY2UiLCJnZXRDdXJyZW50U2NyaXB0VXJsIiwicmVsb2FkZWQiLCJsb2FkZWQiLCJyZXQiLCJzdHJpcFdXVyIsInNvbWUiLCJnZXRSZWxvYWRVcmwiLCJyZWxvYWRTdHlsZSIsImxvY2FscyIsImpvaW4iLCJzZWxmIiwiYXJncyIsImFyZ3VtZW50cyIsImZ1bmN0aW9uQ2FsbCIsImFwcGx5IiwiY2xlYXJUaW1lb3V0Iiwic2V0VGltZW91dCIsInVybFN0cmluZyIsInRyaW0iLCJwcm90b2NvbCIsImNvbXBvbmVudHMiLCJob3N0IiwidG9Mb3dlckNhc2UiLCJyZWR1Y2UiLCJhY2N1bXVsYXRvciIsInBvcCIsInB1c2giLCJjc3NSZWxvYWQiLCJpZCIsImhvdCIsImRpc3Bvc2UiLCJhY2NlcHQiLCJ1bmRlZmluZWQiLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwiY2FjaGVkTW9kdWxlIiwiZXJyb3IiLCJleGVjT3B0aW9ucyIsImZhY3RvcnkiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwicmVxdWlyZSIsImhhbmRsZXIiLCJlIiwibSIsImMiLCJodSIsImNodW5rSWQiLCJoIiwibWluaUNzc0YiLCJobXJGIiwiZyIsImdsb2JhbFRoaXMiLCJGdW5jdGlvbiIsIm8iLCJvYmoiLCJwcm9wIiwiaGFzT3duUHJvcGVydHkiLCJsIiwiZG9uZSIsImtleSIsInNjcmlwdCIsIm5lZWRBdHRhY2giLCJzIiwiZ2V0QXR0cmlidXRlIiwiY2hhcnNldCIsIm5jIiwic2V0QXR0cmlidXRlIiwib25TY3JpcHRDb21wbGV0ZSIsInByZXYiLCJldmVudCIsIm9uZXJyb3IiLCJvbmxvYWQiLCJkb25lRm5zIiwiYmluZCIsInR5cGUiLCJoZWFkIiwiY3VycmVudENoaWxkTW9kdWxlIiwiY3VycmVudFVwZGF0ZUFwcGx5SGFuZGxlcnMiLCJxdWV1ZWRJbnZhbGlkYXRlZE1vZHVsZXMiLCJjdXJyZW50TW9kdWxlRGF0YSIsImluc3RhbGxlZE1vZHVsZXMiLCJjdXJyZW50UGFyZW50cyIsInJlZ2lzdGVyZWRTdGF0dXNIYW5kbGVycyIsImN1cnJlbnRTdGF0dXMiLCJibG9ja2luZ1Byb21pc2VzIiwiYmxvY2tpbmdQcm9taXNlc1dhaXRpbmciLCJzZXRTdGF0dXMiLCJuZXdTdGF0dXMiLCJyZXN1bHRzIiwiUHJvbWlzZSIsImFsbCIsInVuYmxvY2siLCJ0aGVuIiwibGlzdCIsImhvdENoZWNrIiwiYXBwbHlPblVwZGF0ZSIsIkVycm9yIiwiaG1yTSIsInVwZGF0ZSIsInVwZGF0ZWRNb2R1bGVzIiwia2V5cyIsImhtckMiLCJwcm9taXNlcyIsInIiLCJpbnRlcm5hbEFwcGx5IiwicmVzb2x2ZSIsImFwcGx5SW52YWxpZGF0ZWRNb2R1bGVzIiwiaG90QXBwbHkiLCJlcnJvcnMiLCJmaWx0ZXIiLCJCb29sZWFuIiwiZGlzcG9zZVByb21pc2UiLCJyZXN1bHQiLCJhcHBseVByb21pc2UiLCJyZXBvcnRFcnJvciIsImVyciIsIm91dGRhdGVkTW9kdWxlcyIsIm1vZHVsZXMiLCJobXJJIiwiaG1yRCIsIm1lIiwiX21haW4iLCJyZXF1ZXN0IiwiYWN0aXZlIiwicGFyZW50cyIsImNoaWxkcmVuIiwid2FybiIsImNyZWF0ZVByb3BlcnR5RGVzY3JpcHRvciIsIm5hbWUiLCJjb25maWd1cmFibGUiLCJlbnVtZXJhYmxlIiwiZ2V0Iiwic2V0IiwiZGVmaW5lUHJvcGVydHkiLCJwcm9taXNlIiwidHJhY2tCbG9ja2luZ1Byb21pc2UiLCJjcmVhdGVSZXF1aXJlIiwiX2FjY2VwdGVkRGVwZW5kZW5jaWVzIiwiX2FjY2VwdGVkRXJyb3JIYW5kbGVycyIsIl9kZWNsaW5lZERlcGVuZGVuY2llcyIsIl9zZWxmQWNjZXB0ZWQiLCJfc2VsZkRlY2xpbmVkIiwiX3NlbGZJbnZhbGlkYXRlZCIsIl9kaXNwb3NlSGFuZGxlcnMiLCJfcmVxdWlyZVNlbGYiLCJzbGljZSIsImRlcCIsImNhbGxiYWNrIiwiZXJyb3JIYW5kbGVyIiwiZGVjbGluZSIsImFkZERpc3Bvc2VIYW5kbGVyIiwicmVtb3ZlRGlzcG9zZUhhbmRsZXIiLCJpZHgiLCJzcGxpY2UiLCJpbnZhbGlkYXRlIiwiY2hlY2siLCJzdGF0dXMiLCJhZGRTdGF0dXNIYW5kbGVyIiwicmVtb3ZlU3RhdHVzSGFuZGxlciIsImRhdGEiLCJzY3JpcHRVcmwiLCJpbXBvcnRTY3JpcHRzIiwibG9jYXRpb24iLCJwIiwiZnVsbGhyZWYiLCJyZWplY3QiLCJsaW5rVGFnIiwicmVsIiwiZXJyb3JUeXBlIiwicmVhbEhyZWYiLCJjb2RlIiwiZXhpc3RpbmdMaW5rVGFncyIsImRhdGFIcmVmIiwidGFnIiwiZXhpc3RpbmdTdHlsZVRhZ3MiLCJvbGRUYWciLCJtaW5pQ3NzIiwiY2h1bmtJZHMiLCJyZW1vdmVkQ2h1bmtzIiwicmVtb3ZlZE1vZHVsZXMiLCJhcHBseUhhbmRsZXJzIiwidXBkYXRlZE1vZHVsZXNMaXN0IiwiYXMiLCJjdXJyZW50VXBkYXRlZE1vZHVsZXNMaXN0IiwiY3VycmVudFVwZGF0ZUNodW5rcyIsImN1cnJlbnRVcGRhdGUiLCJjdXJyZW50VXBkYXRlUmVtb3ZlZENodW5rcyIsImN1cnJlbnRVcGRhdGVSdW50aW1lIiwiaW5zdGFsbGVkQ2h1bmtzIiwiaG1yU19qc29ucCIsIndhaXRpbmdVcGRhdGVSZXNvbHZlcyIsImxvYWRVcGRhdGVDaHVuayIsInJlYWxTcmMiLCJtZXNzYWdlIiwiZ2V0QWZmZWN0ZWRNb2R1bGVFZmZlY3RzIiwidXBkYXRlTW9kdWxlSWQiLCJvdXRkYXRlZERlcGVuZGVuY2llcyIsInF1ZXVlIiwiY2hhaW4iLCJxdWV1ZUl0ZW0iLCJwYXJlbnRJZCIsInBhcmVudCIsImFkZEFsbFRvU2V0IiwiYSIsImIiLCJmIiwianNvbnBIbXIiLCJhcHBsaWVkVXBkYXRlIiwid2FyblVuZXhwZWN0ZWRSZXF1aXJlIiwibmV3TW9kdWxlRmFjdG9yeSIsImFib3J0RXJyb3IiLCJkb0FwcGx5IiwiZG9EaXNwb3NlIiwiY2hhaW5JbmZvIiwib25EZWNsaW5lZCIsImlnbm9yZURlY2xpbmVkIiwib25VbmFjY2VwdGVkIiwiaWdub3JlVW5hY2NlcHRlZCIsIm9uQWNjZXB0ZWQiLCJvbkRpc3Bvc2VkIiwibW9kdWxlT3V0ZGF0ZWREZXBlbmRlbmNpZXMiLCJvdXRkYXRlZFNlbGZBY2NlcHRlZE1vZHVsZXMiLCJvdXRkYXRlZE1vZHVsZUlkIiwiZGVwZW5kZW5jeSIsImRpc3Bvc2VIYW5kbGVycyIsImNoaWxkIiwiY2FsbGJhY2tzIiwiZXJyb3JIYW5kbGVycyIsImRlcGVuZGVuY2llc0ZvckNhbGxiYWNrcyIsImFjY2VwdENhbGxiYWNrIiwiayIsImRlcGVuZGVuY3lJZCIsImVycjIiLCJvbkVycm9yZWQiLCJvcmlnaW5hbEVycm9yIiwiaWdub3JlRXJyb3JlZCIsIm1vcmVNb2R1bGVzIiwicnVudGltZSIsImpzb25wIiwiZmV0Y2giLCJyZXNwb25zZSIsIm9rIiwic3RhdHVzVGV4dCIsImpzb24iXSwic291cmNlUm9vdCI6IiJ9